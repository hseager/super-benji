function b(a,d,e){let f=c.g;f.font='60px "Courier New", Roboto, Helvetica, Arial, sans-serif-black';f.textAlign="center";f.strokeStyle="black";f.lineWidth=4;f.strokeText(a,d,e);f.fillStyle="white";f.fillText(a,d,e)}
class g{constructor(){this.g=c2d.getContext("2d");new DOMPoint(0,0);c2d.addEventListener("mousemove",a=>{let d=a.clientX-c2d.getBoundingClientRect().left;a=a.clientY-c2d.getBoundingClientRect().top;new DOMPoint(d,a)});c2d.addEventListener("touchmove",a=>{var d=a.touches[0];a=c2d.getBoundingClientRect();let e=d.clientX-a.left;d=d.clientY-a.top;e*=c2d.width/a.width;d*=c2d.height/a.height;new DOMPoint(e,d)})}get j(){return this.g.canvas.width}get h(){return this.g.canvas.height}}let c=new g;
function h(a){var d=k,e=[];d.g.v?.();d.g=a;d.g.s?.(...e)}class l{constructor(...a){this.g=m;this.g.s?.(...a)}}let k;var n,p=n||(n={});p[p.A=0]="A";p[p.B=1]="B";p[p.X=2]="X";p[p.Y=3]="Y";p[p.LeftBumper=4]="LeftBumper";p[p.RightBumper=5]="RightBumper";p[p.LeftTrigger=6]="LeftTrigger";p[p.RightTrigger=7]="RightTrigger";p[p.Select=8]="Select";p[p.Start=9]="Start";p[p.L3=10]="L3";p[p.R3=11]="R3";p[p.DpadUp=12]="DpadUp";p[p.DpadDown=13]="DpadDown";p[p.DpadLeft=14]="DpadLeft";p[p.DpadRight=15]="DpadRight";
class q{constructor(){this.l=this.i=this.m=this.o=!1;this.g=new Map;this.j={o:this.o,m:this.m,i:this.i,l:this.l};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});c2d.addEventListener("click",()=>this.i=!0);this.h=new DOMPoint}}let r=new q;class t{s(){}u(){r.l&&h(m)}}let u=new t;
class v{g(){h(u)}s(){c2d.addEventListener("click",this.g)}u(){let a=c.g.canvas.width/2;b("js13k 2025",a,60);b("Start Game",a,500);r.i&&h(u)}v(){c2d.removeEventListener("click",this.g)}}let m=new v;k=new l(...[]);let w=0,x=1E3/60;
(function y(a){var e=a-w;if(e>=x){w=a-e%x;r.j.o=r.o;r.j.m=r.m;r.j.i=r.i;r.j.l=r.l;a=navigator.getGamepads()[0];e=r.g.get("KeyA")||r.g.get("ArrowLeft")||a?.buttons[14].pressed?-1:0;let f=r.g.get("KeyD")||r.g.get("ArrowRight")||a?.buttons[15].pressed?1:0,z=r.g.get("KeyW")||r.g.get("ArrowUp")||a?.buttons[12].pressed?-1:0,A=r.g.get("KeyS")||r.g.get("ArrowDown")||a?.buttons[13].pressed?1:0;r.h.x=e+f||a?.axes[0]||0;r.h.y=z+A||a?.axes[1]||0;.1>Math.hypot(r.h.x,r.h.y)&&(r.h.x=0,r.h.y=0);r.o=0>r.h.y;r.m=0<
r.h.y;r.i=!!(r.g.get("Enter")||a?.buttons[0].pressed||a?.buttons[9].pressed);r.l=!(!r.g.get("Escape")&&!a?.buttons[8].pressed);c.g.clearRect(0,0,c.j,c.h);k.g.u()}requestAnimationFrame(y)})(0);
