function g(a,b,c,d){let e=h.u;e.font=`${b}px "Courier New", Roboto, Helvetica, Arial, sans-serif-black`;e.textAlign="center";e.strokeStyle="black";e.lineWidth=4;e.strokeText(a,c,d);e.fillStyle="white";e.fillText(a,c,d)}
class ba{constructor(){this.u=c2d.getContext("2d");this.J=new DOMPoint(0,0);c2d.addEventListener("mousemove",a=>{let b=a.clientX-c2d.getBoundingClientRect().left;a=a.clientY-c2d.getBoundingClientRect().top;this.J=new DOMPoint(b,a)});c2d.addEventListener("touchmove",a=>{var b=a.touches[0];a=c2d.getBoundingClientRect();let c=b.clientX-a.left;b=b.clientY-a.top;c*=c2d.width/a.width;b*=c2d.height/a.height;this.J=new DOMPoint(c,b)})}get g(){return this.u.canvas.width}get h(){return this.u.canvas.height}}
let h=new ba;function k(a){var b=l,c=[];b.g.ga?.();b.g=a;b.g.Z?.(...c)}class ca{constructor(...a){this.g=n;this.g.Z?.(...a)}}let l;var p,q=p||(p={});q[q.A=0]="A";q[q.B=1]="B";q[q.X=2]="X";q[q.Y=3]="Y";q[q.LeftBumper=4]="LeftBumper";q[q.RightBumper=5]="RightBumper";q[q.LeftTrigger=6]="LeftTrigger";q[q.RightTrigger=7]="RightTrigger";q[q.Select=8]="Select";q[q.Start=9]="Start";q[q.L3=10]="L3";q[q.R3=11]="R3";q[q.DpadUp=12]="DpadUp";q[q.DpadDown=13]="DpadDown";q[q.DpadLeft=14]="DpadLeft";
q[q.DpadRight=15]="DpadRight";class da{constructor(){this.S=this.M=this.V=this.W=!1;this.g=new Map;this.u={W:this.W,V:this.V,M:this.M,S:this.S};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});c2d.addEventListener("click",()=>this.M=!0);this.h=new DOMPoint}}let u=new da;function v(a){return(a=document.querySelector(a))?a:null}function w(a){a=document.querySelectorAll(a);return 0<a.length?a:null}let ea="#78769b #8d8bb1 #a7a5cb #bcbbdf #c9c7e7 #dbdaed #e0dff7 #dbdaed #c9c7e7 #bcbbdf #a7a5cb #8d8bb1 #78769b".split(" ");
function x(a){return 2===a?{fill:"#18beba",border:"#08121c"}:{fill:"#481c7f",border:"#170221"}}let y={attack:11,o:.2,m:.35,i:100,j:16},z={attack:24,o:.12,m:.27,i:150,j:28},A={attack:30,o:.1,m:.4,i:100,j:35};class B{constructor(a,b){this.currentTime=0;this.fa=1E3;this.active=!0;this.type=a;this.speed=b}O(){this.currentTime=0;this.start()}start(){this.active=!0}D(a){this.currentTime+=this.speed*a}L(){}}
class fa extends B{constructor(){super(0,.07)}start(){super.start();let a=v("#deploy-infantry");a&&(a.disabled=!0)}L(){this.active=!1;let a=v("#deploy-infantry");a&&(a.disabled=!1)}D(a){super.D(a);if(a=v("#infantry-progress"))a.value=this.currentTime/10}}class C{constructor(a,b){this.title=a;this.type=b}K(){}}
class ha extends B{constructor(){super(1,.035)}start(){super.start();let a=v("#deploy-tank");a&&(a.disabled=!0)}L(){this.active=!1;let a=v("#deploy-tank");a&&(a.disabled=!1)}D(a){super.D(a);if(a=v("#tank-progress"))a.value=this.currentTime/10}}class ia extends C{constructor(){super("Build Tank Factory",3)}K(a){v("#tank-option")?.classList.remove("d-none");a.l.push(new ha)}}
class ja extends C{constructor(){super("Increase Research Speed",1)}K(a){a.l=a.l.map(b=>{3===b.type&&(b.speed+=.015);return b})}}class D extends C{constructor(){super("Increase Infantry Recruitment Speed",0)}K(a){a.l=a.l.map(b=>{0===b.type&&(b.speed+=.015);return b})}}function E(a){let b=v(".points");b&&(b.textContent=a.g.toString())}
function ka(a){let b=w(".tech-range");b&&b.forEach(c=>{c.oninput=d=>{d=d.target;let {type:e,stat:f}=d?.dataset;if(f&&e){var m=parseInt(d.value,10),r=la(a,f,e),t=m-r;0<t&&t>a.g?d.value=r.toString():("infantry"===e?"attack"===f?a.H.attack=m:"attackSpeed"===f?a.H.o=m:"health"===f?a.H.i=m:"moveSpeed"===f?a.H.m=m:"range"===f&&(a.H.j=m):"tank"===e?"attack"===f?a.I.attack=m:"attackSpeed"===f?a.I.o=m:"health"===f?a.I.i=m:"moveSpeed"===f?a.I.m=m:"range"===f&&(a.I.j=m):"aircraft"===e&&("attack"===f?a.F.attack=
m:"attackSpeed"===f?a.F.o=m:"health"===f?a.F.i=m:"moveSpeed"===f?a.F.m=m:"range"===f&&(a.F.j=m)),a.g-=t,E(a))}}})}function ma(){let a=w(".tab");a?.forEach(b=>{b.onclick=c=>{c=c.target;let {type:d}=c.dataset;a?.forEach(e=>e.classList.remove("active"));c.classList.add("active");c=v(`#${d}-tech`);w(".tab-panel")?.forEach(e=>e.classList.remove("active"));c?.classList.add("active")}})}
function la(a,b,c){if("infantry"===c){if("attack"!==b){if("attackSpeed"===b)return a.H.o;if("health"===b)return a.H.i;if("moveSpeed"===b)return a.H.m;if("range"===b)return a.H.j}}else if("tank"===c){if("attack"===b)return a.I.attack;if("attackSpeed"===b)return a.I.o;if("health"===b)return a.I.i;if("moveSpeed"===b)return a.I.m;if("range"===b)return a.I.j}else if("aircraft"===c){if("attack"===b)return a.F.attack;if("attackSpeed"===b)return a.F.o;if("health"===b)return a.F.i;if("moveSpeed"===b)return a.F.m;
if("range"===b)return a.F.j}return a.H.attack}class na{constructor(){this.g=6;this.H={attack:2,o:2,m:2,i:2,j:2};this.I={attack:2,o:2,m:2,i:2,j:2};this.F={attack:2,o:2,m:2,i:2,j:2};E(this);ka(this);ma();v("#tech-centre")?.classList.remove("d-none")}}class oa extends C{constructor(){super("Build Tech Centre",0)}K(a){a.v=new na}}class F extends C{constructor(){super("Increase Tank Build Speed",2)}K(a){a.l=a.l.map(b=>{1===b.type&&(b.speed+=.02);return b})}}
class G extends C{constructor(a){super(a?`Add ${a} skill points`:"Add tech skill point",5);this.g=1;a&&(this.g=a)}K(a){a.v&&(a=a.v,a.g+=this.g,E(a))}}function H(a){return 2===a.G?new DOMPoint(h.J.x,h.h-25):I(a)}function I(a){let b=Math.floor(Math.random()*(h.g-20-20+1))+20;return 2===a.G?new DOMPoint(b,h.h-25):new DOMPoint(b,141)}class J{constructor(a,b){this.G=a;this.position=H(this);this.s=b;this.ca=!1;this.g=b.i}h(){this.position=H(this)}P(){}}
class K extends J{P(a,b,c){let d=x(this.G);b=b??this.position.x;c=c??this.position.y;var e=this.s.i/this.g;a.beginPath();a.arc(b,c,this.s.j,0,2*Math.PI);a.strokeStyle=d.border;a.stroke();e*=this.s.j;0>e&&(e=0);a.beginPath();a.arc(b,c,e,0,2*Math.PI);a.fillStyle=d.fill;a.fill();a.closePath()}}class pa extends B{constructor(){super(7,.02)}start(){super.start()}L(a){let b=new K(2,O(a.R));b.position=I(b);a.units.push(b);super.O()}D(a){super.D(a)}}
class qa extends C{constructor(){super("Auto Deploy Infantry",6)}K(a){a.l.push(new pa)}}class P extends C{constructor(){super("Increase Infantry Auto Deploy Speed",7)}K(a){a.l=a.l.map(b=>{7===b.type&&(b.speed+=.02);return b})}}class ra extends B{constructor(){super(2,.025)}start(){super.start();let a=v("#deploy-aircraft");a&&(a.disabled=!0)}L(){this.active=!1;let a=v("#deploy-aircraft");a&&(a.disabled=!1)}D(a){super.D(a);if(a=v("#aircraft-progress"))a.value=this.currentTime/10}}
class sa extends C{constructor(){super("Build Air Base",8)}K(a){v("#aircraft-option")?.classList.remove("d-none");v("#aircraft-tab")?.classList.remove("d-none");a.l.push(new ra);a.v&&(a=a.v,a.g+=2,E(a))}}class Q extends C{constructor(){super("Increase Aircraft Build Speed",9)}K(a){a.l=a.l.map(b=>{2===b.type&&(b.speed+=.015);return b})}}
class ta extends B{constructor(){super(8,.02)}start(){super.start();let a=v("#deploy-ion-cannon");a&&(a.disabled=!0)}L(){this.active=!1;let a=v("#deploy-ion-cannon");a&&(a.disabled=!1)}D(a){super.D(a);if(a=v("#ion-cannon-progress"))a.value=this.currentTime/10}}class ua extends C{constructor(){super("Launch Ion Cannon Satellite",10)}K(a){v("#ion-cannon-option")?.classList.remove("d-none");a.l.push(new ta)}}
class R extends C{constructor(){super("Increase Ion Cannon Charge Time",11)}K(a){a.l=a.l.map(b=>{8===b.type&&(b.speed+=.015);return b})}}
let S=v("#research-points"),va=new Map([[1,[new D]],[2,[new qa,new ja]],[3,[new ia]],[5,[new D]],[6,[new oa,new F]],[8,[new G(2)]],[9,[new P,new F]],[11,[new G(2)]],[12,[new sa]],[13,[new G(2),new P]],[14,[new Q]],[15,[new G(3)]],[16,[new ua]],[17,[new R,new G(3),new Q]],[19,[new R,new P]],[21,[new G(3)]],[25,[new G(5)]],[27,[new R]],[28,[new P]]]),wa=(a,b)=>{let c=va.get(b);c?c.forEach(d=>{a.U.some(e=>e.type===d.type)||a.U.push(d)}):10<=b&&a.U.push(new G)},xa=a=>{S?.replaceChildren();wa(a,a.C.level);
a.U.forEach(b=>{let c=document.createElement("button");c.textContent=b.title;c.classList.add("button");c.onclick=()=>{a.U=a.U.filter(d=>d.type!==b.type);b.K(a);a.l.find(d=>3===d.type)?.O()};S?.appendChild(c)})};
class ya extends B{constructor(){super(3,.035)}start(){super.start();S?.classList.add("d-none")}L(a){this.active=!1;a.C.level++;var b=a.C.level,c=a.l;5===b&&(c.push(new za),T(c));8===b&&(T(c),Aa(c));13===b&&c.push(new Ba);if(b=v("#level"))b.textContent=a.C.level.toString();S?.classList.remove("d-none");xa(a)}D(a){super.D(a);if(a=v("#research-progress"))a.value=this.currentTime/10}}
class Ca extends B{constructor(){super(4,.03)}start(){super.start()}L(a){a.units.push(new K(1,U(a.R)));super.O()}D(a){super.D(a)}}function Da(a,b){a.N-=b;if(b=v(".damage"))b.style.height=`${a.ba-a.N}%`}class Ea{constructor(){this.N=this.ba=100;this.level=0}}
class V extends J{P(a,b,c){let d=x(this.G),e=this.s.i/this.g*42;a.beginPath();a.rect(b?b-15:this.position.x-15,c?c-21:this.position.y-21,30,42);a.strokeStyle=d.border;a.stroke();a.beginPath();a.rect(b?b-15:this.position.x-15,c?c-21+(42-e):this.position.y-21+(42-e),30,e);a.fillStyle=d.fill;a.fill()}}
class za extends B{constructor(){super(5,.02)}start(){super.start()}L(a){var b=a.R;a.units.push(new V(1,{attack:20+.6*b.g.C.level,o:.1+.003*b.g.C.level,i:140+1*b.g.C.level,m:.2+.008*b.g.C.level,j:28+.6*b.g.C.level}));super.O()}D(a){super.D(a)}}
class W extends J{P(a,b,c){let d=x(this.G);b??this.position.x;c??this.position.y;let e=this.s.i/this.g*40;a.beginPath();b=b??this.position.x;c=c??this.position.y;let f=1===this.G?-1:1;a.moveTo(b,c-40*f/2);a.lineTo(b+14,c+40*f/2);a.lineTo(b-14,c+40*f/2);a.closePath();a.strokeStyle=d.border;a.stroke();a.beginPath();a.moveTo(b,c-40*f/2+(40-e)*f);a.lineTo(b+14,c+40*f/2);a.lineTo(b-14,c+40*f/2);a.closePath();a.fillStyle=d.fill;a.fill();a.closePath()}}
class Ba extends B{constructor(){super(6,.02)}start(){super.start()}L(a){var b=a.R;a.units.push(new W(1,{attack:26+.6*b.g.C.level,o:.1+.003*b.g.C.level,i:100+1*b.g.C.level,m:.38+.008*b.g.C.level,j:35+.6*b.g.C.level}));super.O()}D(a){super.D(a)}}function T(a){if(a=a.find(b=>4===b.type))a.speed+=.03}function Aa(a){if(a=a.find(b=>5===b.type))a.speed+=.025}
class Fa{constructor(a){this.g=h.u;this.h=!1;this.y=this.x=0;this.u=a}J(){3==this.u.mode?this.P(h.J.x,h.J.y):this.h&&this.P(this.x,this.y)}P(a,b){62>a&&(a=62);a>h.g-62&&(a=h.g-62);141>b&&(b=141);b>h.h-50&&(b=h.h-50);this.g.globalAlpha=.4;this.g.beginPath();this.g.arc(a,b,62,0,2*Math.PI);this.g.fillStyle="#25bedf";this.g.fill();this.g.closePath();this.g.globalAlpha=1;if(this.h){a=this.x;b=this.y;for(let r=0;4>r;r++){var c=Math.random()*Math.PI*2,d=62*Math.random(),e=Math.random()*Math.PI*2,f=62*Math.random(),
m=a+d*Math.cos(c);c=b+d*Math.sin(c);d=a+f*Math.cos(e);e=b+f*Math.sin(e);this.g.beginPath();this.g.moveTo(m,c);for(f=0;5>f;f++){let t=f/5;this.g.lineTo(m+(d-m)*t+20*(Math.random()-.5),c+(e-c)*t+20*(Math.random()-.5))}this.g.lineTo(d,e);this.g.strokeStyle="white";this.g.lineWidth=2;this.g.stroke();this.g.closePath()}}}da(a){let b=0;this.h=!0;this.x=h.J.x;this.y=h.J.y;let c=setInterval(()=>{b+=1;a.forEach(d=>{62>=Math.sqrt((d.position.x-this.x)**2+(d.position.y-this.y)**2)&&(d.s.i-=7,0>=d.s.i&&X(this.u.$,
d))});25<=b&&(this.h=!1,clearInterval(c))},100)}}function X(a,b){a.g.has(b)&&(a.g.get(b).forEach(c=>{a.g.get(c).delete(b);0===a.g.get(c).size&&a.g.delete(c)}),a.g.delete(b));a.h.units=a.h.units.filter(c=>c!==b)}function Ga(a,b){a.g.forEach((c,d)=>{c.forEach(e=>{let f=1E3/d.s.o;d.T=(d.T||0)+b;e.T=(e.T||0)+b;d.T>=f&&(e.s.i-=d.s.attack+(Math.floor(3*Math.random())-1),d.T=0,0>=e.s.i&&X(a,e),0>=d.s.i&&X(a,d))})})}
function Ha(a,b,c){a.g.has(b)||a.g.set(b,new Set);a.g.get(b).add(c);a.g.has(c)||a.g.set(c,new Set);a.g.get(c).add(b)}class Ia{constructor(a){this.g=new Map;this.h=a}}function O(a){return a.g.v?{attack:y.attack+2*a.g.v?.H.attack,o:y.o+.05*a.g.v?.H.o,i:y.i+4*a.g.v?.H.i,m:y.m+.1*a.g.v?.H.m,j:y.j+1.5*a.g.v?.H.j}:{...y}}function U(a){return{attack:10+.3*a.g.C.level,o:.15+.01*a.g.C.level,i:100+1*a.g.C.level,m:.3+.01*a.g.C.level,j:15+.4*a.g.C.level}}class Ja{constructor(a){this.g=a}}
function Ka(a){v("#deploy-infantry")?.addEventListener("click",()=>{a.mode=2;a.g=new K(2,O(a.R))});v("#deploy-tank")?.addEventListener("click",()=>{a.mode=2;var c=a.R;a.g=new V(2,c.g.v?{attack:z.attack+2*c.g.v?.I.attack,o:z.o+.05*c.g.v?.I.o,i:z.i+4*c.g.v?.I.i,m:z.m+.1*c.g.v?.I.m,j:z.j+1.5*c.g.v?.I.j}:{...z})});v("#deploy-aircraft")?.addEventListener("click",()=>{a.mode=2;var c=a.R;a.g=new W(2,c.g.v?{attack:A.attack+2*c.g.v?.F.attack,o:A.o+.05*c.g.v?.F.o,i:A.i+4*c.g.v?.F.i,m:A.m+.1*c.g.v?.F.m,j:A.j+
1.5*c.g.v?.F.j}:{...A})});v("#deploy-ion-cannon")?.addEventListener("click",()=>{a.mode=3});let b=()=>{if(2===a.mode)if(a.g?.h(),a.g&&a.units.push(a.g),a.g instanceof K){var c=a.l.find(d=>0==d.type);c&&c.O()}else a.g instanceof V?(c=a.l.find(d=>1==d.type))&&c.O():a.g instanceof W&&(c=a.l.find(d=>2==d.type))&&c.O();else 3===a.mode&&(a.u?.da(a.units),(c=a.l.find(d=>8==d.type))&&c.O());a.g=null;a.mode=1};c2d.addEventListener("click",b);c2d.addEventListener("touchend",b)}
function La(a){a.l.push(new fa);setTimeout(()=>{a.units.push(new K(1,U(a.R)));a.l.push(new ya);a.l.push(new Ca);v("#research-centre")?.classList.remove("d-none")},12E3)}function Ma(a,b){a.l.filter(c=>c.active).forEach(c=>{c.D(b);c.currentTime>=c.fa&&c.L(a)})}class Y{constructor(){this.mode=1;this.units=[];this.h=Array.from({length:13},()=>({ba:100,N:100}));this.l=[];this.C=new Ea;this.U=[];this.v=this.g=null;this.$=new Ia(this);this.u=new Fa(this);this.R=new Ja(this);Ka(this);La(this)}}
class Na{Z(){v(".damage-meter")?.classList.add("d-none");v(".controls")?.classList.add("d-none");c2d.addEventListener("click",()=>{window.location.reload()})}aa(){let a=h.u.canvas.width/2;g("You defeated",60,a,60);g("the Dominus Network",60,a,120);g("Victory is yours! The Dominus Network crumbles, and the dawn ",24,a,240);g("of a new era begins \u2014 The Vanguard has reclaimed freedom for all!",24,a,284);g("Back to Menu",60,a,400);u.M&&window.location.reload()}}let Oa=new Na;
function Z(a,b,c){a.globalAlpha=c;a.beginPath();a.arc(b,50,20,.5*Math.PI,1.5*Math.PI);a.arc(b+30,30,30,Math.PI,1.85*Math.PI);a.arc(b+70,30,40,1.37*Math.PI,1.91*Math.PI);a.arc(b+100,50,30,1.5*Math.PI,.5*Math.PI);a.closePath();a.fillStyle="#FFFFFF";a.fill();a.strokeStyle="#D3D3D3";a.stroke();a.globalAlpha=1}function Pa(a,b){b.forEach(c=>{a.fillStyle="#34363c";a.fillRect(c.x,c.y,c.width,c.height);a.fillStyle="#d6d6bb";c.ea.forEach(d=>{a.fillRect(d.x,d.y,d.size,d.size)})})}
class Qa{constructor(a){this.level=a}Z(){v(".damage-meter")?.classList.add("d-none");v(".controls")?.classList.add("d-none");c2d.addEventListener("click",()=>{window.location.reload()})}aa(){let a=h.u.canvas.width/2;g("You were defeated",80,a,90);g("Hope fades as the Dominus Network tightens its grip.",24,a,160);g("The Vanguard's resistance has been crushed, but the ",24,a,190);g("fight for freedom is far from over.",24,a,220);g(`You made it to level ${this.level}.`,30,a,290);g("Back to Menu",60,
a,400);u.M&&window.location.reload()}}function Ra(a){let b=h.g/a.h.h.length-5;a.h.h.forEach((c,d)=>{let e=b*(d+1)-22;a.h.units.filter(f=>2===f.G).forEach(f=>{108>=Math.sqrt((f.position.x-e)**2+(f.position.y-40)**2)&&!f.ca&&(c.N-=f.s.attack,f.ca=!0)});Sa(a,e,c,ea[d])})}
function Ta(a,b){a.h.units=a.h.units?.filter(c=>{let d=a.h.units.find(e=>{e=c instanceof K?e.G!==c.G&&Math.hypot(c.position.x-e.position.x,c.position.y-e.position.y)<c.s.j+e.s.j:c instanceof V?e.G!==c.G&&Math.hypot(c.position.x-15-e.position.x,c.position.y-21-e.position.y)<c.s.j+e.s.j:c instanceof W?e.G!==c.G&&Math.hypot(c.position.x-14-e.position.x,c.position.y-20-e.position.y)<c.s.j+e.s.j:void 0;return e});if(d)Ha(a.h.$,c,d);else{c.T=void 0;if(2===c.G){if(141>=c.position.y)return!1;c.position.y-=
c.s.m}else if(1===c.G){if(c.position.y>=h.h-50)return Da(a.h.C,c.s.attack),!1;c.position.y+=c.s.m}X(a.h.$,c)}c.P(a.g);return!0});Ga(a.h.$,b)}function Ua(a){a.h.h.every(b=>20>=b.N)&&k(Oa)}function Sa(a,b,c,d){c=c.N/c.ba*100;a.g.save();a.g.beginPath();a.g.rect(b,40+(100-c),40,c);a.g.clip();a.g.shadowColor=d;a.g.shadowBlur=8;a.g.shadowOffsetX=0;a.g.shadowOffsetY=0;a.g.drawImage(a.J,b,40,40,100);a.g.shadowColor="transparent";a.g.shadowBlur=0;a.g.restore()}
class Va{constructor(){this.J=new Image;this.g=h.u;this.J.src="pylon.png";this.h=new Y;this.u=[]}Z(){this.h=new Y;let a=0;for(;a<h.g;){let L=Math.floor(81*Math.random())+20;var b=Math.floor(-39*Math.random())+120,c=a,d=b,e=L,f=100+b,m=a,r=b,t=L;let aa=[];for(let M=m+10;M<m+t-10;M+=10)for(let N=r+10;N<r+b-10;N+=10).75<Math.random()&&aa.push({x:M,y:N,size:3});this.u.push({x:c,y:d,width:e,height:f,ea:aa});a+=L}v(".damage-meter")?.classList.remove("d-none");v(".controls")?.classList.remove("d-none");
920>=window.innerWidth&&(document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen())}aa(a){var b=this.g,c=b.createLinearGradient(0,0,0,h.h);c.addColorStop(0,"#1f313f");c.addColorStop(.05,"#385a64");c.addColorStop(.1,"#618384");c.addColorStop(.15,"#cfd3c2");c.addColorStop(.23,"#6b8a8d");c.addColorStop(.24,"#2a4240");c.addColorStop(1,"#131515");b.fillStyle=c;b.fillRect(0,0,h.g,h.h);b=this.g;c=h.g/2;b.globalAlpha=.6;b.beginPath();b.arc(c,36,26,0,2*Math.PI);b.fillStyle=
"#d8d1b7";b.fill();b.closePath();b.globalAlpha=1;b=this.g;Z(b,50,.14);Z(b,750,.24);Pa(this.g,this.u);b=this.g;c=b.createLinearGradient(0,0,0,h.h);c.addColorStop(0,"#1f313f");c.addColorStop(.05,"#385a64");c.addColorStop(.1,"#618384");c.addColorStop(.15,"#cfd3c2");c.addColorStop(.23,"#6b8a8d");c.addColorStop(.24,"#2a4240");c.addColorStop(1,"#131515");b.fillStyle=c;b.fillRect(0,141,h.g,h.h);b=this.g;c=h.h-50;var d=h.g,e=(d-50)/2;let f=(d+50)/2,m=(d-800)/2;d=(d+800)/2;b.globalAlpha=.2;b.fillStyle="#333";
b.strokeStyle="#222";b.beginPath();b.moveTo(e,141);b.lineTo(f,141);b.lineTo(d,c);b.lineTo(m,c);b.closePath();b.fill();b.stroke();b.globalAlpha=1;Ra(this);b=this.g;b.beginPath();b.moveTo(20,141);b.lineTo(h.g-20,141);b.lineWidth=3;b.strokeStyle="#111";b.stroke();b.closePath();b=this.g;c=h.h-50;b.beginPath();b.moveTo(20,c);b.lineTo(h.g-20,c);b.lineWidth=3;b.strokeStyle="#ccc";b.stroke();b.closePath();Ta(this,a);2==this.h.mode&&(b=h.J.x,c=h.h-25,40>b&&(b=40),b>h.g-40&&(b=h.g-40),e=x(2),this.g.beginPath(),
this.g.fillStyle=e.fill,this.g.strokeStyle=e.border,this.h?.g?.P(this.g,b,c),this.g.fill(),this.g.stroke(),this.g.closePath());this.h.u?.J();Ma(this.h,a);u.S&&k(n);Ua(this);0>=this.h.C.N&&k(new Qa(this.h.C.level))}}let Wa=new Va;
class Xa{g(){k(Wa)}Z(){c2d.addEventListener("click",this.g)}aa(){let a=h.u.canvas.width/2;g("Exilium:",60,a,60);g("The fall of Dominus",45,a,120);g("In a world ruled by fear, the Dominus Network\u2019s 13 towering",24,a,200);g("pylons cast a menacing shadow, controlling every aspect of life.",24,a,236);g("The people live in terror, their freedom crushed by the AI's",24,a,270);g("relentless grip. But the Vanguard, a brave band of rebels,",24,a,304);g("rises to challenge this tyranny. Their mission: destroy the pylons,",
24,a,336);g("dismantle the AI, and restore liberty to a world on the edge of despair.",23,a,366);g("Start Game",60,a,500);u.M&&k(Wa)}ga(){c2d.removeEventListener("click",this.g)}}let n=new Xa;l=new ca(...[]);let Ya=0,Za=1E3/60;
(function $a(a){let c=a-Ya;if(c>=Za){Ya=a-c%Za;u.u.W=u.W;u.u.V=u.V;u.u.M=u.M;u.u.S=u.S;a=navigator.getGamepads()[0];let d=u.g.get("KeyA")||u.g.get("ArrowLeft")||a?.buttons[14].pressed?-1:0,e=u.g.get("KeyD")||u.g.get("ArrowRight")||a?.buttons[15].pressed?1:0,f=u.g.get("KeyW")||u.g.get("ArrowUp")||a?.buttons[12].pressed?-1:0,m=u.g.get("KeyS")||u.g.get("ArrowDown")||a?.buttons[13].pressed?1:0;u.h.x=d+e||a?.axes[0]||0;u.h.y=f+m||a?.axes[1]||0;.1>Math.hypot(u.h.x,u.h.y)&&(u.h.x=0,u.h.y=0);u.W=0>u.h.y;
u.V=0<u.h.y;u.M=!!(u.g.get("Enter")||a?.buttons[0].pressed||a?.buttons[9].pressed);u.S=!(!u.g.get("Escape")&&!a?.buttons[8].pressed);h.u.clearRect(0,0,h.g,h.h);l.g.aa(c)}requestAnimationFrame($a)})(0);
