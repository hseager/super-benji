function h(a,b){let c=c2d.getBoundingClientRect();return new DOMPoint(144/c.width*(a-c.left),256/c.height*(b-c.top))}function q(a){let b,c;.5625<window.innerWidth/window.innerHeight?(c=window.innerHeight,b=.5625*c):(b=window.innerWidth,c=b/.5625);a.g.canvas.style.width=`${b}px`;a.g.canvas.style.height=`${c}px`;a.g.imageSmoothingEnabled=!1}
function r(a,b,c,d){let e=t.g;e.save();e.font=`bold ${b-1}px "Courier New"`;e.strokeStyle="#3f2163";e.textAlign="center";e.strokeText(a,c,d+1);e.font=`bold ${b}px "Courier New"`;e.fillStyle="#ed9436";e.fillText(a,c,d);e.restore()}
function u(a,b,c,d,e="white",g="center",f,l,m){let k=t.g;k.save();k.font=`${b}px "Courier New"`;k.textAlign=g;k.fillStyle=e;f&&(k.strokeStyle=f);l&&(k.lineWidth=l);m?(k.translate(c,d),k.rotate(m),f&&k.strokeText(a,0,0),k.fillText(a,0,0)):(f&&k.strokeText(a,c,d),k.fillText(a,c,d));k.restore()}function v(){return t.g.canvas.width/2}function w(a,b){var c=t;c.i+=b;.75<=c.i&&(c.i=0,c.o=!c.o);c.o&&u(a,16,v(),200,"#fff","center","#333",4)}
class aa{constructor(){this.i=0;this.o=!0;this.g=c2d.getContext("2d");this.l=new DOMPoint(0,0);c2d.addEventListener("mousemove",a=>{this.l=h(a.clientX,a.clientY)});c2d.addEventListener("touchmove",a=>{a=a.touches[0];this.l=h(a.clientX,a.clientY)});c2d.addEventListener("mousedown",()=>!0);c2d.addEventListener("mouseup",()=>!1);c2d.addEventListener("touchstart",()=>{});c2d.addEventListener("touchend",()=>!1);window.addEventListener("resize",()=>q(this));window.addEventListener("orientationchange",()=>
q(this));q(this)}get h(){return this.g.canvas.width}get j(){return this.g.canvas.height}}let t=new aa;function x(a,b=.5,c){var d=y;d.j=a;d.l=b;d.i=0;d.g=!0;d.o=c;d.h="fade-in"===a?1:0}
class ba{constructor(){this.h=0;this.g=!1;this.j=null;this.l=1;this.i=0}update(a){this.g&&(this.i+=a,a=Math.min(this.i/this.l,1),"fade-in"===this.j?this.h=1-a:"fade-out"===this.j&&(this.h=a),1<=a&&(this.g=!1,this.o?.()))}m(a){if(this.g||0!==this.h)a.save(),a.fillStyle=`rgba(0, 0, 0, ${.8*this.h})`,a.fillRect(0,0,t.h,t.j),a.restore()}}
let y=new ba,z=[{A:1,color:"#00FF66"},{A:.75,color:"#00BFFF"},{A:.5,color:"#FFA500"},{A:.25,color:"#FF3333"},{A:0,color:"rgba(255, 0, 0, 0)"}],ca=["#35a3ec","#4480b8a2"],da=["#ff5e49","#881c18"];function A(a,b=1){a=parseInt(a.replace("#",""),16);return{r:a>>16&255,M:a>>8&255,b:a&255,alpha:b}}function B(a,b=1){let {r:c,M:d,b:e}=A(a,b);return`rgba(${c}, ${d}, ${e}, ${b})`}
function ea(){return fa.map(a=>{var b=a.replace("#","");a=parseInt(b.substring(0,2),16)/255;var c=parseInt(b.substring(2,4),16)/255;b=parseInt(b.substring(4,6),16)/255;var d=Math.max(a,c,b),e=Math.min(a,c,b),g=0,f=0;let l=(d+e)/2;if(d!==e){let n=d-e;f=.5<l?n/(2-d-e):n/(d+e);switch(d){case a:g=(c-b)/n+(c<b?6:0);break;case c:g=(b-a)/n+2;break;case b:g=(a-c)/n+4}g*=60}let {ba:m,ha:k,ca:p}={ba:g,ha:100*f,ca:100*l};a=(m+200*(Math.random()-.5)+360)%360;d=Math.min(100,Math.max(0,p+0*(Math.random()-.5)));
d/=100;c=Math.min(100,Math.max(0,k+10*(Math.random()-.5)))/100*(1-Math.abs(2*d-1));b=c*(1-Math.abs(a/60%2-1));d-=c/2;f=g=e=0;0<=a&&60>a?(e=c,g=b,f=0):60<=a&&120>a?(e=b,g=c,f=0):120<=a&&180>a?(e=0,g=c,f=b):180<=a&&240>a?(e=0,g=b,f=c):240<=a&&300>a?(e=b,g=0,f=c):300<=a&&360>a&&(e=c,g=0,f=b);return`#${Math.round(255*(e+d)).toString(16).padStart(2,"0")}${Math.round(255*(g+d)).toString(16).padStart(2,"0")}${Math.round(255*(f+d)).toString(16).padStart(2,"0")}`})}let fa="#06040f #4d592a #231952 #354652 #353550 #363692 #69416e".split(" ");
function ha(a,b=.01){let c=document.createElement("canvas");c.width=128;c.height=128;let d=c.getContext("2d");d.imageSmoothingEnabled=!1;d.fillStyle=a.h[0];d.fillRect(0,0,128,128);b=Math.floor(16384*b);for(var e=0;e<b;e++){var g=Math.floor(128*Math.random()),f=Math.floor(128*Math.random());d.fillStyle=a.h[Math.floor(Math.random()*a.h.length)];d.beginPath();d.arc(g,f,1,0,2*Math.PI);d.fill()}for(let m=0;3>m;m++){b=a;e=d;g=128*Math.random();f=128*Math.random();var l=64*Math.random()+128/3;for(let k=
-128;128>=k;k+=128)for(let p=-128;128>=p;p+=128){let n=e.createRadialGradient(g+k,f+p,0,g+k,f+p,l);n.addColorStop(0,B(b.h[5],.07));n.addColorStop(1,"rgba(0,0,0,0)");e.globalCompositeOperation="screen";e.fillStyle=n;e.beginPath();e.arc(g+k,f+p,l,0,2*Math.PI);e.fill();e.globalCompositeOperation="source-over"}}a=new Image;a.src=c.toDataURL();return a}
class C{constructor(){this.g=new Image;this.y=0;this.x=-10;this.speed=20;this.i=.003*Math.random()+.002;this.h=ea();this.g=ha(this,this.i)}update(a,b){this.y+=this.speed*a;b&&(this.x-=.4*b);this.y>=this.g.height&&(this.y=0)}m(a){let {width:b,height:c}=a.canvas;a.imageSmoothingEnabled=!1;if(this.g.complete){var d=a.createPattern(this.g,"repeat");d&&(a.save(),a.translate(this.x,this.y),a.fillStyle=d,a.fillRect(-this.g.width/4,-this.g.height,b+100,c+this.g.height),a.restore())}}}
function D(a){var b=E,c=[];b.g.$?.();b.g=a;b.g.O?.(...c)}class ia{constructor(...a){this.g=ja;this.g.O?.(...a)}}let E;class ka{constructor(){this.g=new Map;document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});c2d.addEventListener("click",()=>!0);new DOMPoint}}new ka;class F{constructor(a,b,c=0,d=0){this.x=a;this.y=b;this.width=c;this.height=d;this.active=!0}}
function G(a){if(0>=a.h&&a.G){var b=a.G.get();if(b){var c=0>=a.o.y?a.y:a.y+a.height;b.I=a.I;b.speed=a.K;var d=a.o.x,e=a.o.y;b.x=a.x+a.width/2;b.y=c;b.X=d;b.Y=e;b.active=!0;a.h=a.H}}}function H(a,b=8){if(!a.C){a.C=!0;for(let c=0;c<b;c++)a.j.push({x:a.x+a.width/2,y:a.y+a.height/2,ka:4*(Math.random()-.5),la:4*(Math.random()-.5),V:Math.random()*Math.PI*2,ga:.2*(Math.random()-.5),alpha:1,size:6,ia:Math.floor(Math.random()*(a.g.width-6)),ja:Math.floor(Math.random()*(a.g.height-6))})}}
function I(a){for(let b of a.j)b.x+=b.ka,b.y+=b.la,b.V+=b.ga,b.alpha-=.02;a.j=a.j.filter(b=>0<b.alpha)}function J(a,b){for(let c of a.j)b.save(),b.globalAlpha=c.alpha,b.translate(c.x,c.y),b.rotate(c.V),b.drawImage(a.g,c.ia,c.ja,c.size,c.size,-c.size/2,-c.size/2,c.size,c.size),b.restore()}function K(a){return a.C&&0===a.j.length}class L extends F{constructor(a,b,c,d,e,g,f,l){super(e,g,f,l);this.h=0;this.H=.1;this.o={x:0,y:-1};this.C=!1;this.j=[];this.g=a;this.G=b;this.I=c;this.K=d}}let la="#202020 #404040 #606060 #808080 #A0A0A0 #C0C0C0 #00BFFF".split(" ");
class ma extends L{constructor(a,b){super(a,b,10,100,72,256-a.height,a.width,a.height);this.velocityX=this.l=0;this.S=75;this.J=50;this.i="#00bfff7c";this.D=10;this.u=100;this.H=.75;this.g=a}update(a,b,c){if(this.C)I(this);else{b-=this.x+this.width/2;c-=this.y+this.height/2;var d=Math.hypot(b,c);2<d&&(this.x+=b/d*this.S*a,this.y+=c/d*this.J*a);this.velocityX=this.x-this.l;this.l=this.x;a:{b=this.u/100;b=Math.max(0,Math.min(1,b));for(var e=0;e<z.length-1;e++)if(c=z[e],d=z[e+1],b<=c.A&&b>=d.A){b=(b-
d.A)/(c.A-d.A);c=A(c.color);let f=A(d.color);d=c.alpha+(f.alpha-c.alpha)*(1-b);e=Math.round(c.M+(f.M-c.M)*(1-b));var g=Math.round(c.b+(f.b-c.b)*(1-b));b="#"+Math.round(c.r+(f.r-c.r)*(1-b)).toString(16).padStart(2,"0")+e.toString(16).padStart(2,"0")+g.toString(16).padStart(2,"0");b=B(b,d);break a}b=z[z.length-1].color}this.i=b;0<this.h&&(this.h-=a);G(this)}}m(a){if(this.C)J(this,a);else{a.save();a.shadowColor=this.i;a.shadowBlur=this.D;var b=this.x+this.width/2,c=this.y+this.height+-2,d=a.createLinearGradient(b,
c,b,c+20);d.addColorStop(0,"rgba(0, 180, 255, 0.9)");d.addColorStop(.4,"rgba(255, 255, 255, 0.8)");d.addColorStop(1,"rgba(255, 140, 0, 0)");let e=6+3*Math.random();a.fillStyle=d;a.beginPath();a.moveTo(b-1,c);a.lineTo(b,c+e);a.lineTo(b+1,c);a.closePath();a.fill();b=Math.max(-2,Math.min(2,3*this.velocityX));c=this.width/2;for(d=0;d<this.width;d++)a.drawImage(this.g,d,0,1,this.height,this.x+d,this.y+Math.floor((d-c)/c*b),1,this.height);a.restore()}}P(a){this.u-=a;0>=this.u&&H(this,40)}}
class M extends F{constructor(a){super(0,0);this.active=!1;this.speed=this.I=1;this.Y=this.X=0;this.g=a}update(a){this.x+=this.X*this.speed*a;this.y+=this.Y*this.speed*a}T(){return 0>this.y||this.y>t.j||0>this.x||this.x>t.h}m(a){a.drawImage(this.g,this.x,this.y)}}let na="#200000 #190202 #290303 #310c0c #A03030 #c04040 #e67c7c".split(" ");
class oa extends L{constructor(a,b,c){super(a,b,5,50,c,100*Math.random(),a.width,a.height);this.D="#ffb3007c";this.i=12;this.u=20;this.J=10;this.l=0;this.fa=.5;this.H=3.5;this.o={x:0,y:1};a=document.createElement("canvas");a.width=this.g.width+4*this.i;a.height=this.g.height+4*this.i;b=a.getContext("2d");if(!b)throw Error("Failed to get 2D context");b.shadowColor=this.D;b.shadowBlur=this.i;b.drawImage(this.g,2*this.i,2*this.i);this.R=a;this.l=60*(Math.random()-.5)}update(a){this.C?I(this):(this.y+=
this.J*a,this.x+=this.l*a,0>this.x&&(this.x=0,this.l*=-1),this.x+this.width>t.h&&(this.x=t.h-this.width,this.l*=-1),0<this.h&&(this.h-=a),G(this))}m(a){this.C?J(this,a):(a.save(),a.drawImage(this.R,this.x-2*this.i,this.y-2*this.i),a.drawImage(this.g,this.x,this.y),a.restore())}T(){return 0>this.x+this.width||this.x>t.h||0>this.y+this.height||this.y>t.j}P(a){this.u-=a;0>=this.u&&H(this)}}
function N(a,b){a.i=b;a.h=2;a.g.v=[];b=4+2*(a.i-1);for(let d=0;d<b;d++){var c=new oa(a.g.W.Z,a.g.L,Math.random()*(t.h-a.g.W.Z.width));a.g.v.push(c)}}
class pa{constructor(a){this.i=1;this.h=0;this.g=a}update(a){0!==this.g.v.length||this.g.B.isActive||this.g.B.N||y.g||x("fade-out",.5,()=>{this.g.B.start();x("fade-in")});this.g.B.N&&(this.g.B.N=!1,N(this,this.i+1),this.g.background=new C);0<this.h&&(this.h-=a)}m(){if(0<this.h){let a=Math.min(this.h/.5,1);t.g.save();t.g.globalAlpha=a;r(`Level ${this.i}`,24,t.h/2,60);t.g.restore()}}}
function O(a,b,c){for(let d=a.length-1;0<=d;d--){let e=a[d];if(e.active)for(let g=b.length-1;0<=g;g--){let f=b[g];if(f.active&&e&&f&&e.x<f.x+(f.width||0)&&e.x+(e.width||0)>f.x&&e.y<f.y+(f.height||0)&&e.y+(e.height||0)>f.y){c(e,f);break}}}}class qa{constructor(a){this.image=a}m(a,b,c,d,e,g,f,l=0){a.save();l&1&&(a.translate(b+g,c),a.scale(-1,1),c=b=0);l&2&&(a.translate(b,c+f),a.scale(1,-1),c=0);a.drawImage(this.image,d,e,g,f,b,c,g,f);a.restore()}}
function P(a,b,c,d,e,g,f,l,m=0){b.m(a.g,c,d,e,g,f,l,m)}class Q{constructor(a,b){this.canvas=document.createElement("canvas");this.canvas.width=a;this.canvas.height=b;this.g=this.canvas.getContext("2d")}}
async function ra(){let a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABYCAMAAAByMgEaAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGlQTFRFAAAASUlJLCwsQUFBOjo6NDQ0ZGRkFBQUJCQkT09PHR0dXl5eVlZWa2trcnJyeXl5lpaWjo6OhYWFyMjIBwcHpqam3NzcDAwM////HR0dCwsLVFRUCAgIubm51NTU1NTUXl5eISEhZWVlwlG8LgAAACN0Uk5TAP////7///////////////////////9P/44d7nH/X6mw446feByIAAADC0lEQVR4nO1Xa3faMAy1JL/fCYXSbazb/v+PnAKEwUpXNdlH7jkNsU90LV3JsqsUqDs44L3Zu3jNr28nExknJfiuv/8105WiGoxSX8Ve3KDw2pYyE2SxFzfYeYUVKgaFciGukayFwTb0Vpsl9gC50LDfodZETwsIEDQEu63ZGDRLCJRxWIZEezALNYg65gQ6oJfXwg0oqqdgUKulWSA2YwLPei4jUPrNyyexSPq10CrcjMfpET9BMKh2PfTnn42YYLMdrkbHFjPt5UJSgsOhfbkM+uT71+3kwt1udZ8gXd615XXTzvJW1FqYSejbcCmamtDkvrHBIWRhDC2VrOcYagZTeu8BjQ0gK4pOFen57E0Gyqn2fdIZAGQujLpG8+30zg3ZB0qHTdbaRJTJ2DG5uX0FP/3ZsVnPEqJIxdCSdfhyEiFOSTRlLBm5HQgJLFrn/VkEToezKYAm9sX/kBBQ8tZFfxaBZSNgGRzRcSCACT45F92lGFkHw30JhFs7lJyNd16fYzDHMKbciJbnHGxDiegInv/4ND280F71DqwBE3yTWtziZxt1iMFpeLlxQNpRwOpqxgAOjJk1PzeH8K7RNRLhYIbCWfNz3WI9yVhkVQQ46F6ZwM0ElT0pwQnTAGQqjdY4inj2Wae0seSD7GSyQY/Q+E6kI+bTFGU4VDvNyAggJWvQaW/mvoZ52GzBy85W7h9kLWHEF3MMwR034+ZARpbGMH0PnnHq5z/44UvdNT2dsigjKY57z/m9u2GkNmz2sEcCkO2HFPF5Jqg2cF76tqONdDzlBdDqRf2cvQnkn6DtQiZnAGUXtWmZOVjDzUn9Co34phJNlGkw2KtBYBtnMh1viUVkn9v1tmnXiwpqMXEi4SbSz9wLGBV6NUtvQxPGMqZqP/7uXbSh1JxXEJSmbRZfJO4gffzJv7Em/GusCeKIvtK+yWr2XVBbeDG/OEDrtByhrMrmGHJZU4sNqrUrQhgn+7I8Cy3XwgTLNzSvzyeTXh4C/5tKOevlpQwhTLt5TRYeeOCBBx74X/gN1wEaI0xzsV0AAAAASUVORK5CYII=";let b=
new qa(a);return new Promise(c=>{a.onload=async()=>{c(b)}})}async function sa(a){let b=new Q(27,30);P(b,a,7,0,0,15,13,30);P(b,a,1,18,0,45,6,9);P(b,a,19,18,0,45,6,9,1);return this.g(b,la)}async function ta(a){let b=new Q(14,14);P(b,a,0,0,16,0,14,14);return this.g(b,na)}async function R(a,b,c=0){let d=new Q(3,3);P(d,a,0,0,0,0,3,3,c);return this.g(d,b)}async function ua(){var a=new va;let b=await ra();a.ea=await sa(b);a.Z=await ta(b);a.da=await R(b,ca,2);a.aa=await R(b,da);return a}class va{}
function S(a,b){for(let c of a.F)c.active&&(c.update(b),c.T()&&(c.active=!1))}function T(a,b){for(let c of a.F)c.active&&c.m(b)}class U{constructor(a){this.F=[];for(let b=0;100>b;b++){let c=a();c.active=!1;this.F.push(c)}}get(){for(let a of this.F)if(!a.active)return a.active=!0,a;return null}}function wa(a){a.j=[...a.i].sort(()=>Math.random()-.5).slice(0,3)}
class xa{constructor(a){this.N=this.isActive=!1;this.j=[];this.h=0;this.i=[];this.g=a;this.i=[{name:"Increase Fire Rate",description:"Shoot 20% faster.",apply:()=>{this.g.s.H*=.8}},{name:"Extra Health",description:"Gain +2 health.",apply:()=>{this.g.s.u+=2}},{name:"Speed Boost",description:"Move 15% faster.",apply:()=>{this.g.s.S*=1.15;this.g.s.J*=1.15}}]}start(){this.isActive=!0;this.N=!1;this.h=0;wa(this)}update(){}m(a){this.isActive&&(a.save(),a.fillStyle="rgba(0, 0, 0, 0.7)",a.fillRect(0,0,a.canvas.width,
a.canvas.height),u("Choose an upgrade!",12,v(),20),this.j.forEach((b,c)=>{let d=40+50*c;a.fillStyle=c===this.h?"#44aaff":"#222";a.fillRect(a.canvas.width/2-50,d,100,30);a.strokeStyle="white";a.lineWidth=2;a.strokeRect(a.canvas.width/2-50,d,100,30);a.fillStyle="white";a.font="9px Arial";a.textAlign="left";a.fillText(b.name,a.canvas.width/2-40,d+10);a.font="9px Arial";a.fillText(b.description,a.canvas.width/2-40,d+20)}),a.restore())}}
async function ya(){var a=new za;a.W=await ua();let {ea:b,aa:c,da:d}=a.W;a.g=new U(()=>new M(d));a.L=new U(()=>new M(c));a.s=new ma(b,a.g);a.h=new pa(a);N(a.h,1);return a}
class za{constructor(){this.v=[];this.background=new C;this.B=new xa(this)}update(a,b){let {s:c,background:d,h:e}=this;if(this.B.isActive)this.B.update(a);else{d.update(a,c.velocityX);c.update(a,b.x,b.y);for(let g of this.v)g.update(a);this.v=this.v.filter(g=>!g.T()&&!K(g));S(this.g,a);S(this.L,a);O(this.g.F,this.v,(g,f)=>{f.P(g.I);f.C||(g.active=!1)});O([this.s],this.v,(g,f)=>{g.P(f.fa)});O([this.s],this.L.F,(g,f)=>{g.P(f.I);f.active=!1});e.update(a)}}m(a){this.B.isActive?this.B.m(a):(this.background.m(a),
this.v.forEach(b=>b.m(a)),this.s.m(a),this.h.m(),T(this.g,a),T(this.L,a))}}class Aa{O(){c2d.addEventListener("click",()=>{window.location.reload()})}U(a){r("You were",18,v(),50);r("destroyed!",18,v(),70);w("Back to Menu",a)}}let Ba=440*Math.pow(Math.pow(2,1/12),-9),Ca=/^[0-9.]+$/,Da=/\s+/,Ea=/(\d+)/,V={};"B#-C C#-Db D D#-Eb E-Fb E#-F F#-Gb G G#-Ab A A#-Bb B-Cb".split(" ").forEach((a,b)=>{a.split("-").forEach(c=>{V[c]=b})});
function Fa(a){return Ca.test(a)?parseFloat(a):a.toLowerCase().split("").reduce((b,c)=>{switch(c){case "w":return b+4;case "h":return b+2;case "q":return b+1;case "e":return b+.5;case "s":return b+.25;default:return b}},0)}class W{constructor(a){let [b,c]=a.split(Da);a=b.split(Ea);this.frequency=Ba*Math.pow(Math.pow(2,1/12),V[a[0]])*Math.pow(2,(parseInt(a[1])||4)-4)||0;this.duration=Fa(c)||0}}
function Ga(a){let b=a.o;[["bass",100],["mid",1E3],["treble",2500]].forEach(([,c])=>{let d=a.i.createBiquadFilter();d.type="peaking";d.frequency.value=c;b.connect(d);b=d;a.R.push(d)});b.connect(a.K);b.connect(a.G)}function Ha(a,...b){b.forEach(c=>{a.h.push(c instanceof W?c:new W(c))})}
function X(a,b=a.i.currentTime){a.createOscillator();a.g.start(b);a.h.forEach((c,d)=>{c=b;let e=60/220*a.h[d].duration,g=e*(1-(a.l||1E-11));a.g?.frequency.setValueAtTime(a.h[d].frequency,c);if(a.j&&a.h[d].frequency){let f=a.h[d<a.h.length-1?d+1:0];a.g?.frequency.setValueAtTime(a.h[d].frequency,c+(g-Math.min(g,60/220*a.j)));a.g?.frequency.linearRampToValueAtTime(f.frequency,c+g)}a.g?.frequency.setValueAtTime(0,c+g);b=c+e});a.g.stop(b);a.g.onended=()=>X(a,b)}
class Y{constructor(a,b){this.h=[];this.l=this.j=0;this.D="square";this.g=null;this.R=[];this.i=a;this.o=this.i.createGain();this.G=this.i.createGain();this.K=this.i.createGain();Ga(this);b&&Ha(this,...b)}createOscillator(){this.stop();this.g=this.i.createOscillator();this.g.type=this.D;this.g.connect(this.o)}connect(a){this.G.connect(a);this.K.connect(a)}stop(){this.g&&(this.g.onended=null,this.g.stop(),this.g.frequency.cancelScheduledValues(0),this.g=null)}}
function Z(a){if(!a.j){var b=a.g.currentTime;X(a.l,b);X(a.h,b);a.j=!0}}
class Ia{constructor(){this.volume=.15;this.j=!1;this.g=new AudioContext;this.o=this.g.createGain();this.i=this.g.createDynamicsCompressor();this.o.connect(this.g.destination);this.o.gain.value=this.volume;this.i.ratio.value=4;this.i.threshold.value=-12;this.i.connect(this.o);this.l=new Y(this.g,"F#4 q;C#5 q;F#4 q;E5 q;- q;E5 q;C#5 q;F#5 q;F#4 q;C#5 q;F#4 q;E5 q;- q;G#4 q;A4 q;B4 q;F#4 q;C#5 q;F#4 q;E5 q;- q;E5 q;C#5 q;F#5 q;F#4 q;C#5 q;F#4 q;E5 q;- q;G#4 q;A4 q;F#4 q;A4 q;E5 q;A4 q;G5 q;- q;E5 q;G5 q;A5 q;A4 q;E5 q;A4 q;G5 q;- q;C5 q;E5 q;C5 q;A4 q;E5 q;A4 q;G5 q;- q;E5 q;G5 q;A5 q;A4 q;E5 q;A4 q;G5 q;A5 q;G5 q;F5 q;D5 q".split(";"));this.l.l=
.3;this.l.j=.02;this.h=new Y(this.g,"F#2 h;F#2 h;F#2 h;F#2 h;B1 h;B1 h;C#2 h;C#2 h;F#2 h;F#2 h;F#2 h;F#2 h;B1 h;B1 h;C#2 h;C#2 h;A2 h;A2 h;A2 h;A2 h;E2 h;E2 h;F#2 h;F#2 h;A2 h;A2 h;A2 h;A2 h;E2 h;E2 h;F#2 h;F#2 h".split(";"));this.h.l=.1;this.h.j=.2;this.h.D="sawtooth";this.l.connect(this.i);this.h.connect(this.i)}stop(){this.l.stop();this.h.stop();this.j=!1}}
function Ja(a){Z(a.h);a.i.classList.remove("hide");a.i.textContent=a.h.j?"\ud83d\udd08":"\ud83d\udd07";a.i.addEventListener("click",()=>{a.h.j?(a.h.stop(),a.i.textContent="\ud83d\udd07"):(Z(a.h),a.i.textContent="\ud83d\udd08")})}function Ka(a){K(a.g.s)&&(y.g||x("fade-out",.5,()=>{D(new Aa);x("fade-in",.5)}))}
class La{constructor(){this.j=t.g;this.i=document.querySelector(".mute-button");this.h=new Ia}async O(){Ja(this);this.g=await ya();x("fade-in",1)}U(a){this.g&&(this.g.update(a,t.l),this.g.m(this.j),Ka(this))}$(){this.i.classList.add("hide");this.h.stop()}}let Ma=new La;
class Na{g(){x("fade-out",.5,()=>{D(Ma)})}O(){c2d.addEventListener("click",this.g)}U(a){r("X-Type",24,v(),60);u("Super",10,v()-40,44,"#fff","center","#ee2626",2,Math.PI/-20);w("Start Game",a)}$(){c2d.removeEventListener("click",this.g)}}let ja=new Na;E=new ia(...[]);let Oa=performance.now(),Pa=new C;(()=>{function a(b){let c=(b-Oa)/1E3;Oa=b;t.g.clearRect(0,0,t.h,t.j);Pa.update(c);Pa.m(t.g);E.g.U(c);y.update(c);y.m(t.g);requestAnimationFrame(a)}requestAnimationFrame(a)})();
