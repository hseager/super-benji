let h=[];function aa(){var a=m.g.canvas;a.addEventListener("click",b=>{let c=a.getBoundingClientRect(),d=a.width/c.width*(b.clientX-c.left);b=a.height/c.height*(b.clientY-c.top);for(let e of h)d>=e.x&&d<=e.x+e.w&&b>=e.y&&b<=e.y+e.la&&e.Da()})}function ba(a,b,c){h.push({x:5,y:a,w:b,la:45,Da:c})}function n(a,b){let c=c2d.getBoundingClientRect();return new DOMPoint(144/c.width*(a-c.left),256/c.height*(b-c.top))}
function t(a){let b,c;.5625<window.innerWidth/window.innerHeight?(c=window.innerHeight,b=.5625*c):(b=window.innerWidth,c=b/.5625);a.g.canvas.style.width=`${b}px`;a.g.canvas.style.height=`${c}px`;a.g.imageSmoothingEnabled=!1}function u(a,b,c,d=9){let e=a.createLinearGradient(0,b-d,0,b);c.forEach(([f,g])=>e.addColorStop(f,g));return e}
function v(a,b,c,d){let e=m.g;e.save();e.font=`bold ${b-1}px "Courier New"`;e.strokeStyle="#0a0601";e.fillStyle="#0a0601";e.textAlign="center";e.strokeText(a,c,d+2);e.fillText(a,c,d+2);e.font=`bold ${b}px "Courier New"`;e.fillStyle=u(e,d,[[0,"#fff4c1"],[.25,"#ffd84a"],[.5,"#6a2c00"],[.75,"#b65a00"],[1,"#ff9d00"]]);e.fillText(a,c,d);e.restore()}
function w(a,b,c,d,e="white",f="center",g,l,q){let k=m.g;k.save();k.font=`${b}px "Courier New", monospace`;k.textAlign=f;k.fillStyle=e;g&&(k.strokeStyle=g);l&&(k.lineWidth=l);q?(k.translate(c,d),k.rotate(q),g&&k.strokeText(a,0,0),k.fillText(a,0,0)):(g&&k.strokeText(a,c,d),k.fillText(a,c,d));k.restore()}
function x(a,b,c=200){var d=m;d.l+=b;.75<=d.l&&(d.l=0,d.C=!d.C);d.C&&(b=d.g,b.save(),b.font='bold 16px "Courier New", serif',b.textAlign="center",b.textBaseline="middle",b.strokeStyle="#161616ff",b.strokeText(a,b.canvas.width/2,c+1),b.fillStyle=u(b,c,[[0,"#ffffff"],[.15,"#dcdcdc"],[.3,"#a0a0a0"],[.45,"#f8f8f8"],[.6,"#7a7a7a"],[.8,"#c8c8c8"],[1,"#5a5a5a"]],10),b.fillText(a,b.canvas.width/2,c),b.restore())}
function y(a,b,c,d,e=6,f,g){a.beginPath();a.moveTo(5+e,b);a.lineTo(5+c-e,b);a.quadraticCurveTo(5+c,b,5+c,b+e);a.lineTo(5+c,b+d-e);a.quadraticCurveTo(5+c,b+d,5+c-e,b+d);a.lineTo(5+e,b+d);a.quadraticCurveTo(5,b+d,5,b+d-e);a.lineTo(5,b+e);a.quadraticCurveTo(5,b,5+e,b);a.closePath();f&&(a.fillStyle=f,a.fill());g&&(a.strokeStyle=g,a.stroke())}function z(){return m.g.canvas.width/2}
class ca{constructor(){this.l=0;this.C=!0;this.g=c2d.getContext("2d");this.o=new DOMPoint(0,0);c2d.addEventListener("mousemove",a=>{this.o=n(a.clientX,a.clientY)});c2d.addEventListener("touchmove",a=>{a=a.touches[0];this.o=n(a.clientX,a.clientY)});window.addEventListener("resize",()=>t(this));window.addEventListener("orientationchange",()=>t(this));t(this)}get i(){return this.g.canvas.width}get j(){return this.g.canvas.height}}let m=new ca;
class da{constructor(){this.e=this.a=0;this.d=1;this.R=this.ba=this.f=0}start(a,b,c,d){this.ba=a;this.R=b;this.a=a;this.d=c;this.e=0;this.f=1;this.c=d}update(a){this.f&&(this.e+=a,a=Math.min(this.e/this.d,1),this.a=this.ba+(this.R-this.ba)*a,1<=a&&(this.f=0,this.c?.()))}s(a){!this.f&&0>=this.a||(a.fillStyle=`rgba(0,0,0,${.8*(1-this.a)})`,a.fillRect(0,0,m.i,m.j))}get active(){return 1===this.f}}
let A=new da,B=[{P:1,color:"#00FF66"},{P:.75,color:"#00BFFF"},{P:.5,color:"#FFA500"},{P:.25,color:"#FF3333"},{P:0,color:"rgba(255, 0, 0, 0)"}],C={blue:["#35a3ec","#4480b8"],green:["#35ec5d","#44b867"],Ya:["#a935ec","#a144b8"],Xa:["#ec35be","#b84488"],Wa:["#eca335","#b88244"]},ea="#202020 #404040 #606060 #808080 #A0A0A0 #C0C0C0 #00BFFF".split(" "),fa="#1a1a1a #311f00 #432508 #522f00 #332200 #915525 #a87d32 #eccfae #bb9a54 #73cff4".split(" "),ha=["#ff5e49","#881c18"],ia="#200900 #190902 #291403 #311d0c #a05030 #c06440 #e6a67c".split(" "),
ja="#201a00 #191502 #291f03 #312e0c #a08230 #c09e40 #e6d37c".split(" "),ka="#200000 #190202 #290303 #310c0c #A03030 #c04040 #e67c7c".split(" "),D=["Starfield Frontiers","Verdantia Expanse","Ironfang Megaship","Outer wilds"],la="#181a17 #17221b #1e331e #5f745f #193d19 #4f7550 #85b385 #7aa37a #a3c4a3 #c0e0c0".split(" "),ma="#111821 #152236 #1b2e45 #2d4668 #22354f #3a567a #5a7ba3 #6f92b8 #90afcf #b0cde6".split(" ");
function E(a,b=1){a=parseInt(a.replace("#",""),16);return{r:a>>16&255,R:a>>8&255,b:a&255,alpha:b}}function F(a,b=1){let {r:c,R:d,b:e}=E(a,b);return`rgba(${c}, ${d}, ${e}, ${b})`}
function na(){return G.map(a=>{var b=a.replace("#","");a=parseInt(b.substring(0,2),16)/255;var c=parseInt(b.substring(2,4),16)/255;b=parseInt(b.substring(4,6),16)/255;var d=Math.max(a,c,b),e=Math.min(a,c,b),f=0,g=0;let l=(d+e)/2;if(d!==e){let r=d-e;g=.5<l?r/(2-d-e):r/(d+e);switch(d){case a:f=(c-b)/r+(c<b?6:0);break;case c:f=(b-a)/r+2;break;case b:f=(a-c)/r+4}f*=60}let {la:q,ba:k,Fa:p}={la:f,ba:100*g,Fa:100*l};a=(q+200*(Math.random()-.5)+360)%360;d=Math.min(100,Math.max(0,p+0*(Math.random()-.5)));
d/=100;c=Math.min(100,Math.max(0,k+10*(Math.random()-.5)))/100*(1-Math.abs(2*d-1));b=c*(1-Math.abs(a/60%2-1));d-=c/2;g=f=e=0;0<=a&&60>a?(e=c,f=b,g=0):60<=a&&120>a?(e=b,f=c,g=0):120<=a&&180>a?(e=0,f=c,g=b):180<=a&&240>a?(e=0,f=b,g=c):240<=a&&300>a?(e=b,f=0,g=c):300<=a&&360>a&&(e=c,f=0,g=b);return`#${Math.round(255*(e+d)).toString(16).padStart(2,"0")}${Math.round(255*(f+d)).toString(16).padStart(2,"0")}${Math.round(255*(g+d)).toString(16).padStart(2,"0")}`})}let G="#06040f #4d592a #231952 #354652 #353550 #363692 #69416e".split(" ");
function H(a,b,c,d,e){b=oa(b,a,e);return{Ia:a,M:b,offsetX:0,offsetY:0,Ma:c,va:d}}
function oa(a=.01,b=G,c){let d=document.createElement("canvas");d.width=128;d.height=128;let e=d.getContext("2d");e.imageSmoothingEnabled=!1;a=Math.floor(16384*a);for(var f=0;f<a;f++){var g=Math.floor(128*Math.random()),l=Math.floor(128*Math.random());e.fillStyle=b[Math.floor(Math.random()*b.length)];e.fillRect(g,l,c,c)}for(let q=0;2>q;q++){c=e;a=128*Math.random();f=128*Math.random();g=64*Math.random()+128/3;l=b;for(let k=-128;128>=k;k+=128)for(let p=-128;128>=p;p+=128){let r=c.createRadialGradient(a+
k,f+p,0,a+k,f+p,g);r.addColorStop(0,F(l[5],.1));r.addColorStop(1,"rgba(0,0,0,0)");c.globalCompositeOperation="screen";c.fillStyle=r;c.beginPath();c.arc(a+k,f+p,g,0,2*Math.PI);c.fill();c.globalCompositeOperation="source-over"}}b=new Image;b.src=d.toDataURL();return b}
class I{constructor(){this.g=[];let a=na();this.g.push(H(a,.001,12,.2,1));this.g.push(H(a,.002,18,.3,1.2));this.g.push(H(a,.003,30,.4,1.2))}update(a,b={x:0,y:0}){for(let c of this.g)0!==c.M.width&&0!==c.M.height&&(c.offsetY=(c.offsetY+c.Ma*a-.5*b.y*c.va)%c.M.height,0>c.offsetY&&(c.offsetY+=c.M.height),c.offsetX=(c.offsetX-.4*b.x*c.va)%c.M.width)}s(a){let {width:b,height:c}=a.canvas;a.imageSmoothingEnabled=!1;var d=this.g[0];a.save();a.fillStyle=d.Ia[0];a.fillRect(0,0,b,c);for(let e of this.g)e.M.complete&&
(d=a.createPattern(e.M,"repeat"))&&(a.save(),a.translate(e.offsetX,e.offsetY),a.fillStyle=d,a.fillRect(-e.M.width/4,-e.M.height,b+100,c+e.M.height),a.restore())}}function J(a){var b=K,c=[];b.g.ta?.();b.g=a;b.g.ga?.(...c)}class pa{constructor(...a){this.g=new qa;this.g.ga?.(...a)}}let K;
function L(a,b=8,c=6){if(!a.G){a.G=!0;for(let d=0;d<b;d++){let e=240*(Math.random()-.5),f=Math.random()*Math.PI*2;a.l.push({x:a.x+a.width/2,y:a.y+a.height/2,Qa:Math.cos(f)*e,Ra:Math.sin(f)*e,oa:Math.random()*Math.PI*2,La:8*(Math.random()-.5),alpha:1,size:c,Na:Math.floor(Math.random()*(a.B.width-c)),Oa:Math.floor(Math.random()*(a.B.height-c))})}}}function M(a,b){for(let c of a.l)c.x+=c.Qa*b,c.y+=c.Ra*b,c.oa+=c.La*b,c.alpha-=1.5*b;a.l=a.l.filter(c=>0<c.alpha)}
function N(a,b){for(let c of a.l)b.save(),b.globalAlpha=c.alpha,b.translate(c.x,c.y),b.rotate(c.oa),b.drawImage(a.B,c.Na,c.Oa,c.size,c.size,-c.size/2,-c.size/2,c.size,c.size),b.restore()}function O(a){return a.G&&0===a.l.length}class P{constructor(a,b,c,d=0,e=0){this.l=[];this.G=!1;this.B=a;this.x=b;this.y=c;this.width=d;this.height=e;this.active=!0}ma(){return 0>this.x+this.width||this.x>m.i||0>this.y+this.height||this.y>m.j}}
function Q(a,b,c,d=a.T,e){if(a.active&&a.da){var f=a.da.get();f&&(e&&(f.B=R(a.xa.X,e)),e=0>=d.y?a.y:a.y+a.height,f.u=b,f.speed=c,b=e,c=d.x,d=d.y,f.x=a.x+a.width/2+a.pa,f.y=b,f.qa=c,f.ra=d,f.active=!0)}}function S(a,b){let c=Math.max(-3,Math.min(3,3*a.ja.x)),d=a.width/2;for(let e=0;e<a.width;e++)b.drawImage(a.B,e,0,1,a.height,a.x+e,a.y+Math.floor((e-d)/d*c),1,a.height)}
class ra extends P{constructor(a,b,c,d,e,f,g){super(b,d,e,f,g);this.Y={x:0,y:0};this.ja={x:0,y:0};this.pa=0;this.active=!0;this.g=0;this.I=.1;this.T={x:0,y:-1};this.xa=a;this.B=b;this.da=c}}
class sa extends ra{constructor(a,b,c){super(a,b,c,z()-b.width/2,120,b.width,b.height);this.active=!1;this.pa=-2;this.ea="blue";this.j="#00bfff7c";this.o=10;this.W=75;this.K=50;this.m=this.v=100;this.I=.6;this.u=10;this.D=100;this.i=this.H=this.J=0;this.B=b}update(a,b,c){if(this.G)M(this,a);else{0<this.H&&this.m<this.v&&(this.i+=a,5<=this.i&&(this.m+=this.H,this.m>this.v&&(this.m=this.v),this.i=0));b-=this.x+this.width/2;c=c-(this.y+this.height/2)-22;var d=Math.hypot(b,c);this.active&&2<d&&(this.x+=
b/d*this.W*a,this.y+=c/d*this.K*a);this.ja={x:this.x-this.Y.x,y:this.y-this.Y.y};this.Y={x:this.x,y:this.y};a:{b=this.m/this.v;b=Math.max(0,Math.min(1,b));for(var e=0;e<B.length-1;e++)if(c=B[e],d=B[e+1],b<=c.P&&b>=d.P){b=(b-d.P)/(c.P-d.P);c=E(c.color);let g=E(d.color);d=c.alpha+(g.alpha-c.alpha)*(1-b);e=Math.round(c.R+(g.R-c.R)*(1-b));var f=Math.round(c.b+(g.b-c.b)*(1-b));b="#"+Math.round(c.r+(g.r-c.r)*(1-b)).toString(16).padStart(2,"0")+e.toString(16).padStart(2,"0")+f.toString(16).padStart(2,"0");
b=F(b,d);break a}b=B[B.length-1].color}this.j=b;this.g-=a;0>=this.g&&this.active&&(Q(this,this.u,this.D,{x:0,y:-1},this.ea),this.g=this.I)}}s(a){if(this.G)N(this,a);else{a.save();a.shadowColor=this.j;a.shadowBlur=this.o;let b=this.x+this.width/2,c=this.y+this.height+-2,d=a.createLinearGradient(b,c,b,c+20);d.addColorStop(0,"rgba(0, 180, 255, 0.9)");d.addColorStop(.4,"rgba(255, 255, 255, 0.8)");d.addColorStop(1,"rgba(255, 140, 0, 0)");let e=6+3*Math.random();a.fillStyle=d;a.beginPath();a.moveTo(b-1,
c);a.lineTo(b,c+e);a.lineTo(b+1,c);a.closePath();a.fill();S(this,a);a.restore()}}ia(a){this.m-=a;0>=this.m&&L(this,40)}}class ta extends P{constructor(a){super(a,0,0);this.active=!1;this.speed=this.u=1;this.ra=this.qa=0;this.B=a}s(a){this.G?N(this,a):a.drawImage(this.B,this.x,this.y)}update(a){this.G?(M(this,a),O(this)&&(this.active=this.G=!1)):(this.x+=this.qa*this.speed*a,this.y+=this.ra*this.speed*a)}}
class ua extends ra{constructor(a,b,c,d,e,f,g,l){super(a,b,c,f,-15-100*Math.random(),b.width,b.height);this.ya="#ffb3007c";this.i=12;this.K=this.m=this.v=20;this.j=0;this.Ka=.5;this.I=3.5;this.T={x:0,y:1};this.C=this.N=0;this.za=.15;this.o=0;a=document.createElement("canvas");a.width=this.B.width+4*this.i;a.height=this.B.height+4*this.i;b=a.getContext("2d");if(!b)throw Error("Failed to get 2D context");b.shadowColor=this.ya;b.shadowBlur=this.i;b.drawImage(this.B,2*this.i,2*this.i);this.Aa=a;this.j=
60*(Math.random()-.5);this.u=d;this.D=e;this.aa=g;this.$=l;this.I=3.5+.3*(2*Math.random()-1);this.g=Math.random()*this.I}update(a){if(this.G)M(this,a);else{var b=this.x;switch(this.aa){case "straight":this.y+=this.K*a;break;case "sine":this.y+=this.K*a;this.x+=2*Math.sin(this.y/40);break;case "zigzag":this.y+=this.K*a,this.N-=a,0>=this.N&&(this.j=80*(.5>Math.random()?-1:1),this.N=.5),this.x+=this.j*a}0>this.x&&(this.x=0,this.j*=-1);this.x+this.width>m.i&&(this.x=m.i-this.width,this.j*=-1);this.ja.x=
(this.x-b)/a;if("burst"===this.$)0<this.C?(this.o-=a,0>=this.o&&(Q(this,this.u,this.D,this.T),this.C--,this.o=this.za),0>=this.C&&(this.g=this.I)):(this.g-=a,0>=this.g&&(this.C=3,this.o=0));else if(this.g-=a,0>=this.g){switch(this.$){case "single":Q(this,this.u,this.D,this.T);break;case "spread":a=[-.3,0,.3];for(let c of a)Q(this,this.u,this.D,{x:Math.sin(c),y:Math.cos(c)})}this.g=this.I}}}s(a){this.G?N(this,a):(a.save(),a.drawImage(this.Aa,this.x-2*this.i,this.y-2*this.i),a.drawImage(this.B,this.x,
this.y),S(this,a),a.restore())}ia(a){this.m-=a;0>=this.m&&L(this)}ma(){return 0>this.x+this.width||this.x>m.i||this.y>m.j}}function va(a,b){b=1+2*(a.U-1)+2*b;for(let d=0;d<b;d++){var c=a.l[Math.floor(Math.random()*a.l.length)];c=new ua(a.g,c.B,a.g.fa,c.ka*(1+.03*a.U),c.D*(1+.05*a.U),Math.random()*(m.i-c.B.width),c.aa,c.$);a.g.O.push(c)}}function wa(a){2>a.j?(a.j++,va(a,a.j)):A.start(1,0,.5,()=>{a.g.ca.start();A.start(0,1,.5)})}function T(a){a.j=0;a.g.background=new I;a.i=3;a.g.O=[];wa(a)}
function xa(a){a.U++;var b=a.g.L;b.N.includes(a.U)?(b=b.g,b.L.isActive=!0,b.h.active=!1):U(b.g);a.g.L.isActive||T(a)}
class ya{constructor(a){this.i=this.j=this.U=0;this.g=a;this.l=[{B:this.g.X.Ca,aa:"straight",$:"single",D:50,ka:12},{B:this.g.X.Ha,aa:"sine",$:"burst",D:60,ka:12*1.1},{B:this.g.X.Ba,aa:"zigzag",$:"spread",D:75,ka:12*1.2}]}update(a){let b=!this.g.ca.isActive&&!this.g.L.isActive;0===this.g.O.length&&b&&(2>this.j?wa(this):A.active||A.start(1,0,.5,()=>{this.g.ca.start();A.start(0,1,.5)}));0<this.i&&(this.i-=a)}s(){if(0<this.i){var a=Math.min(this.i/.5,1);m.g.save();m.g.globalAlpha=a;a=this.U;let b=D.length-
1,c=Math.floor((a-1)/5),{sa:d,wa:e}=c<b?{sa:D[c],wa:(a-1)%5+1}:{sa:D[b],wa:a-5*b};v(d,12,m.i/2,40);v(`Zone ${e}`,16,m.i/2,65);m.g.restore()}}}function V(a,b,c){for(let d=a.length-1;0<=d;d--){let e=a[d];if(e.active)for(let f=b.length-1;0<=f;f--){let g=b[f];if(g.active&&e&&g&&e.x<g.x+(g.width||0)&&e.x+(e.width||0)>g.x&&e.y<g.y+(g.height||0)&&e.y+(e.height||0)>g.y){c(e,g);break}}}}
class za{constructor(a){this.image=a}s(a,b,c,d,e,f,g,l=0){a.save();l&1&&(a.translate(b+f,c),a.scale(-1,1),c=b=0);l&2&&(a.translate(b,c+g),a.scale(1,-1),c=0);a.drawImage(this.image,d,e,f,g,b,c,f,g);a.restore()}}function W(a,b,c,d,e,f,g,l,q=0){b.s(a.g,c,d,e,f,g,l,q)}class X{constructor(a,b){this.canvas=document.createElement("canvas");this.canvas.width=a;this.canvas.height=b;this.g=this.canvas.getContext("2d")}}
function Aa(a,b){return new Promise((c,d)=>{a.complete&&0!==a.naturalWidth?c(Ba(a,b)):(a.onload=()=>{c(Ba(a,b))},a.onerror=d)})}
function Ba(a,b){let c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.width;c.height=a.height;d.drawImage(a,0,0);a=d.getImageData(0,0,a.width,a.height);let e=a.data;for(let f=0;f<e.length;f+=4){if(0===e[f+3])continue;let g=E(b[Math.min(b.length-1,Math.floor(e[f]/(256/b.length)))]||"#000000");e[f]=g.r;e[f+1]=g.R;e[f+2]=g.b}d.putImageData(a,0,0);b=new Image;b.src=c.toDataURL();return b}
async function Ca(){let a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABYBAMAAAC3wuwbAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAICAgNjY2Tk5OZmZmhoaGrq6u3t7eDAwMFBQUTJzkDgAAAAp0Uk5TAP////7///T+cjOS5s4AAAPzSURBVHichZbNU9tGFMCfvkDctDIw6k27KyfKzdqVO3CzJZm4NwM2cASSJjlSnBmultSUPdLO9P/trgytijbKm/FK9vv5fex7eiuw4F+5BZ2s717ubOLpgPsXYGHmoaUjXv7v2TS0tDa2sutFKTXDHgvFeIazHoCnwwdC4u8DlKYfWR9g+rNsTXpcGDhlzN/0WPBqEvZlYYYW8aweAJTO7NFDj/sfiflcIgdAXwrH2V6l1rjWATu/NhdpZwRZD3AD1jUMtMDHJpIM3meg3evxB/WrndHPecV1wDJvAB6tzkl+pAHOs2O5cpbOvlLONMDZ9J1cM8xO1gRTHXCkXCSQzJZ+SLp6azlXFhCYsxyDDpjOEahC/p4zDPtdwJTAkwLoABPQpGkmU9QUKZFNpSt6yjFSQYSyW840OcBF6g+OG1PfKfcqmdfHOsWzGCs6qBpAxmdogDQa8pqM5N2i6YmOZMNhVvkSMCcm2GEX4AfPgB3aiaMDovGzheIrZhogH46ZjxTAP2a+Js88LYjvT+QdvfyANEFyUjD/r5HMMLq8xRpgZOYIyYbPYf/9GQEdMsUqtKvV8HJ9T3UtN32ngIJFF7dTorMQPqnYc1xfckw1HSVLqIAI2WPi+bo8ls1qeS6Vz9Wkq7fOm4uz3aOwo5+M2IsnveRLXVztCJZFP7AqeD8wi34AjF59txBCzRhxMELqOZu8jgnU2SGXP+TnZJtau1UdtpFruYHt6NuOL6cFMCMAcNEarpuvd3cvVp/F3FTxBsoIGyNAKIBdV3loPZHmoooRKvHhG5jKaOVZpzxE/wEGVEjJ7SGU6FEI2JE/nhdtACv9IFSAEP6RjM/heRsogy+oFnCoXBDCvykD/7NQHtZIXMGh+1laCoQDTtoGYCGQQEHg7Ow8qCzkFkgD7RG/EVJfIsPYefhNZWFAmhetLMB0hQiCemGfvpUmNnIm8Iy3p6stYxdisIEDXwLqGOR81K6FsS+JUlbRuHq8QUEFr8UwxcWnL8o5U1sZdgDzl+byd6gOa91zZvKNXPcyDw4kY950gerYQJ4dh9uBt77uxBCQgnMqvG0v7b55DbhBeTJmSVkvwBSiZvcdANU/cwkIAD+NCs0byZ9RxveTwAU3IrIKm26Uw3PEE8+V+TzSYnbXAaooQgzFEsAiSuaTDkDfxugbQsrCLOVF1wVlgxz7iQJ4oQN8xjmjGBZu6uMB686GisyzGiOIY5oyXg87gOHPgzrxwD0lPonxogtUKWaxB0Y8IwyddgeTGxBE1Dlp+bIfNC+Ye8FQ8PIJBpQTon3fMOQ+yP+Np35a5D9pABdR7MHe+ExZ0L7TVKrT7E85X81WB94/wFKwFTwzPFUAAAAASUVORK5CYII=";let b=
new za(a);return new Promise(c=>{a.onload=async()=>{c(b)}})}async function Da(a){let b=new X(27,30);W(b,a,7,0,0,15,13,30);W(b,a,1,18,0,45,6,9);W(b,a,19,18,0,45,6,9,1);return Y(b,ea)}async function Y(a,b){let c=new Image;c.src=a.canvas.toDataURL();a=await Aa(c,b);await a.decode();return a}async function Ea(a){let b=new X(14,14);W(b,a,0,0,16,0,14,14);return Y(b,ia)}async function Fa(a){let b=new X(16,16);W(b,a,0,0,16,15,16,16);return Y(b,ja)}
async function Ga(a){let b=new X(16,16);W(b,a,0,0,16,32,16,16);return Y(b,ka)}async function Ha(a,b){let c=new X(3,3);W(c,a,0,0,0,0,3,3,0);return Y(c,b)}async function Ia(a){let b=new X(18,21);W(b,a,0,0,29,52,18,16);W(b,a,1,16,47,84,16,5);return Y(b,fa)}async function Ja(a){let b=new X(17,21);W(b,a,0,0,47,68,17,16);W(b,a,1,16,47,84,16,5);return Y(b,la)}async function Ka(a){let b=new X(17,21);W(b,a,0,0,47,52,17,16);W(b,a,1,16,47,84,16,5);return Y(b,ma)}
function R(a,b="blue"){return a.i[b]??a.i.blue}async function La(a){let b=Object.keys(C);for(let c of b)a.i[c]=await Ha(a.g,C[c])}async function Ma(){var a=new Na;a.g=await Ca();await La(a);a.Ja=await Da(a.g);a.Ca=await Ea(a.g);a.Ha=await Fa(a.g);a.Ba=await Ga(a.g);a.Ea=await Ha(a.g,ha);a.ua=await Ia(a.g);a.Pa=await Ja(a.g);a.Ga=await Ka(a.g);return a}class Na{constructor(){this.i={}}}function Oa(a,b){for(let c of a.Z)c.active&&(c.update(b),c.ma()&&(c.active=!1))}
function Pa(a,b){for(let c of a.Z)c.active&&c.s(b)}class Qa{constructor(a){this.Z=[];for(let b=0;100>b;b++){let c=a();c.active=!1;this.Z.push(c)}}get(){for(let a of this.Z)if(!a.active)return a.active=!0,a.G=!1,a;return null}}
class Ra{constructor(a){this.i=[{A:"Common",name:"Pulse Lazer MK-II",description:"DMG +2, ATK SPD +10%",apply:async()=>{this.g.h.u+=2;this.g.h.I*=.9;this.g.h.ea="green"}},{A:"Rare",name:"Nebula Railcoil",description:"DMG +5, PROJ SPD +20%",apply:()=>{this.g.h.u+=5;this.g.h.D*=1.2;this.g.h.ea="purple"}},{A:"Epic",name:"Iron Fang Torpedo",description:"DMG +10, PROJ SPD +20%",V:"ATK SPD +20%",apply:()=>{this.g.h.u+=10;this.g.h.D*=1.2;this.g.h.I*=.8;this.g.h.ea="orange"}},{A:"Common",name:"Mithril Plating",
description:"HP +10, REGEN +2",V:"EVASION +5%",apply:()=>{this.g.h.v+=20;this.g.h.m+=20;this.g.h.H+=5;this.g.h.J+=5}},{A:"Common",name:"Adamite Panels",description:"HP +20, REGEN +5",apply:()=>{this.g.h.v+=20;this.g.h.m+=20;this.g.h.H+=5}},{A:"Rare",name:"Torx\u2019s Reinforced Shell",description:"HP +50, REGEN +10",apply:()=>{this.g.h.v+=50;this.g.h.m+=50;this.g.h.H+=10}},{A:"Epic",name:"Aether Veil",description:"EVASION +15%",apply:()=>{this.g.h.J+=15}},{A:"Common",name:"Starwing Stabilizers",description:"MOVE SPD +10%",
apply:()=>{this.g.h.W*=1.15;this.g.h.K*=1.15}},{A:"Rare",name:"Meteor Thrusters",description:"MOVE SPD +20%",V:"EVASION +5%",apply:()=>{this.g.h.W*=1.2;this.g.h.K*=1.2;this.g.h.J+=5}},{A:"Legendary",name:"Voidstep Drive",description:"MOVE SPD +30%",V:"EVASION +10%",apply:()=>{this.g.h.W*=1.3;this.g.h.K*=1.3;this.g.h.J+=10}},{A:"Common",name:"Hunter\u2019s Instinct",description:"DMG +4, EVASION +2%",apply:()=>{this.g.h.u+=4;this.g.h.J+=2}},{A:"Rare",name:"Plasma Capacitor",description:"ATK SPD +15%",
V:"PROJ SPD +15%",apply:()=>{this.g.h.I*=.85;this.g.h.D*=1.15}},{A:"Legendary",name:"Jackalbane Core",description:"DMG +15, HP +50",apply:()=>{this.g.h.u+=15;this.g.h.v+=50;this.g.h.m+=50}},{A:"Common",name:"Left-over Sushi",description:"HP +10, REGEN +1",apply:()=>{this.g.h.H+=1;this.g.h.v+=10;this.g.h.m+=10}},{A:"Common",name:"Tuna Suprise",description:"HP +5, REGEN +3",apply:()=>{this.g.h.H+=3;this.g.h.v+=5;this.g.h.m+=5}},{A:"Rare",name:"Iron Jackal Bru",description:"HP +10, REGEN +3",V:"PROJ SPD +10%",
apply:()=>{this.g.h.H+=3;this.g.h.v+=10;this.g.h.D*=1.1}}];this.g=a}}function Sa(a,b,c,d){let e="white";"Rare"===d.A?e="#60a5fa":"Epic"===d.A?e="#c084fc":"Legendary"===d.A&&(e="#fb923c");y(a,b,c,45,6,"#222",e);a.fillStyle=e;a.font="bold 10px monospace";a.textAlign="left";a.fillText(`[${d.A}]`,11,b+10);a.fillStyle="white";a.fillText(d.name,11,b+20);a.fillText(d.description,11,b+30);d.V&&a.fillText(d.V,11,b+40)}
function Ta(a,b){b.save();let c=b.canvas.width-10;h=[];a.l.forEach((d,e)=>{e=90+55*e;Sa(b,e,c,d);a.j&&ba(e,c,()=>{d.apply();a.j=!1;a.i=a.i.filter(f=>f!==d);A.start(1,0,.5,()=>{h=[];a.isActive=!1;xa(a.g.S);A.start(0,1,.5)})})})}
class Ua{constructor(a){this.j=this.isActive=!1;this.l=[];this.i=[];this.g=a;this.i=(new Ra(a)).i}start(){this.j=this.isActive=!0;var a=[...this.i];for(let b=a.length-1;0<b;b--){let c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}this.l=a.slice(0,3);a=this.g.L;a.l=a.C[Math.floor(Math.random()*a.C.length)];h=[]}s(a){if(this.isActive){a.save();a.fillStyle="rgba(0, 0, 0, 0.7)";a.fillRect(0,0,a.canvas.width,a.canvas.height);v("Zone Cleared!",12,z(),15);var b=this.g.L;b.l&&Va(b,"Torx",b.l,55,
30);Ta(this,a);a.restore()}}}function Va(a,b,c,d,e){let f=m.g;var g=c.split(" ");let l={x:15,y:d-34,width:17,height:21},q=m.i-(l.width+5);c=[];let k="";for(let p of g)g=k+p+" ",f.measureText(g).width>q?(c.push(k.trim()),k=p+" "):k=g;c.push(k.trim());y(f,d,m.i-10,Math.max(e,10*c.length+5),4,"#1f1722");a=a.g.X;Wa(f,b,"Maggie"===b?a.Ga:"Torx"===b?a.Pa:a.ua,l);f.fillStyle="white";f.textAlign="left";f.font="8px monospace";b=d+5+8;for(let p of c)f.fillText(p,10,b),b+=10;f.restore()}
function Wa(a,b,c,{x:d,y:e,width:f,height:g}){c&&(a.save(),a.drawImage(c,d,e,f,g),a.strokeStyle="white",a.lineWidth=1,a.strokeRect(d+.5,e+.5,f-1,g-1),a.strokeRect(d,e,f,g),a.fillStyle="white",a.textAlign="center",a.font="9px monospace",a.fillText(b,d+f/2,e+g+10),a.restore())}
class Xa{constructor(a){this.isActive=!0;this.i="act1";this.j=0;this.N=[6,11,16];this.o={Sa:[{F:"Maggie",text:"Benji\u2026 the Iron Jackal has stolen the Titan Heart."},{F:"Maggie",text:"An ancient crystalline star-core that powers interstellar warp lanes."},{F:"Maggie",text:"Without it, entire colonies risk isolation\u2026 and collapse."},{F:"Benji",text:"Great. So we\u2019re chasing a galaxy-crushing thief again?"},{F:"Torx",text:"That\u2019s right. First stop: Starfield Frontiers \u2014 Jackal\u2019s raiders are tearing the system apart."}],
Ta:[{F:"Maggie",text:"Next stop, Verdantia. Jackal\u2019s forces are harvesting planetary cores to power a superweapon."},{F:"Benji",text:"A superweapon? That\u2019s\u2026 way above our pay grade."},{F:"Torx",text:"Above our pay grade, sure\u2026 but at least we get hazard pay in adrenaline!"},{F:"Benji",text:"Any bright ideas on how to take down a mega-ship before it completes the weapon?"},{F:"Torx",text:"Step one: survive. Step two: wreak some chaos. Step three: victory\u2026 hopefully without turning into space debris."},
{F:"Maggie",text:"And remember, if the Titan Heart powers up, it won\u2019t just ruin our day\u2014it\u2019ll ruin everyone\u2019s day. Literally."}],Ua:[{F:"Maggie",text:"Ironfang Megaship. Bigger than a moon. Powered by the Heart."},{F:"Benji",text:"Wow. That\u2019s\u2026 intimidating."},{F:"Torx",text:"Intimidating? Yes. Inviting for a good wrecking? Absolutely."},{F:"Benji",text:"Final showdown time. Jackal, meet chaos and sticky tape."},{F:"Torx",text:"Let\u2019s go! Moon-sized boss fight incoming!"}],
Va:[{F:"Maggie",text:"Well, you did it! But there's still the Jackals fleet to clear up."}]};this.C="Scrap secured. Upgrade time!;Jackal\u2019s junk is our treasure.;Zone clear. Let\u2019s bolt on something new.;Reactor\u2019s humming\u2014don\u2019t breathe too close.;Enemy tech? More like spare parts.;Cut the green wire\u2026 I think.;Hull patched. Tape counts as armor, right?;Think Maggie prefers chrome or silver?;Big red button\u2026 probably important.;Not easy, but nothing worth doing is.;Shh\u2014don\u2019t tell the Jackal about this mod.;Found a shiny bit for the collection!;This part\u2019s purr-fect for Benji\u2019s claws.;Stay sharp\u2014Jackal\u2019s crew love ambushes.;Fitting this might take a plasma torch\u2026 or luck.".split(";");
this.l=null;this.g=a}start(){m.g.canvas.addEventListener("click",()=>{var a;if(a=this.isActive){if(this.j<this.o[this.i].length-1)this.j++;else switch(this.j=0,this.i){case "act1":this.i="act2";this.g.ha();U(this.g);break;case "act2":this.i="act3";T(this.g.S);U(this.g);break;case "act3":this.i="epilogue",T(this.g.S),U(this.g)}a=void 0}return a})}s(){if(this.isActive){var a=this.o[this.i][this.j];a&&Va(this,a.F,a.text,190,50)}}}function U(a){a.L.isActive=!1;a.h.active=!0}
async function Ya(){var a=new Za;a.X=await Ma();let {Ja:b,Ea:c}=a.X;a.g=new Qa(()=>new ta(R(a.X)));a.fa=new Qa(()=>new ta(c));a.h=new sa(a,b,a.g);a.L.start();return a}
class Za{constructor(){this.O=[];this.background=new I;this.L=new Xa(this);this.ca=new Ua(this)}update(a,b){let {h:c,background:d,S:e}=this;d.update(a,c.ja);c.update(a,b.x,b.y);for(let f of this.O)f.update(a);this.O=this.O.filter(f=>!f.ma()&&!O(f));Oa(this.g,a);Oa(this.fa,a);V(this.g.Z.filter(f=>f.active&&!f.G),this.O.filter(f=>!f.G),(f,g)=>{g.ia(f.u);L(f,6,1)});V([this.h],this.O,(f,g)=>{f.ia(g.Ka)});V([this.h],this.fa.Z.filter(f=>f.active&&!f.G),(f,g)=>{100*Math.random()<f.J||f.ia(g.u);L(g,6,1)});
e&&e.update(a)}s(a){this.ca.isActive?this.ca.s(a):(this.background.s(a),this.O.forEach(b=>b.s(a)),this.h.s(a),this.S&&this.S.s(),Pa(this.g,a),Pa(this.fa,a),this.L.isActive&&this.L.s())}ha(){this.L.isActive=!1;this.h.active=!0;this.S=new ya(this);xa(this.S)}}class $a{constructor(a){this.g=a}ga(){c2d.addEventListener("click",()=>{window.location.reload()})}na(a){v("Game Over",24,z(),50);v("You made it",18,z(),100);v("to level",18,z(),115);v(this.g.toString(),24,z(),150);x("Back to Menu",a)}}
let ab=440*Math.pow(Math.pow(2,1/12),-9),bb=/^[0-9.]+$/,cb=/\s+/,db=/(\d+)/,eb={};"B#-C C#-Db D D#-Eb E-Fb E#-F F#-Gb G G#-Ab A A#-Bb B-Cb".split(" ").forEach((a,b)=>{a.split("-").forEach(c=>{eb[c]=b})});function fb(a){return bb.test(a)?parseFloat(a):a.toLowerCase().split("").reduce((b,c)=>{switch(c){case "w":return b+4;case "h":return b+2;case "q":return b+1;case "e":return b+.5;case "s":return b+.25;default:return b}},0)}
class gb{constructor(a){let [b,c]=a.split(cb);a=b.split(db);this.frequency=ab*Math.pow(Math.pow(2,1/12),eb[a[0]])*Math.pow(2,(parseInt(a[1])||4)-4)||0;this.duration=fb(c)||0}}function hb(a){let b=a.C;[["bass",100],["mid",1E3],["treble",2500]].forEach(([,c])=>{let d=a.j.createBiquadFilter();d.type="peaking";d.frequency.value=c;b.connect(d);b=d;a.da.push(d)});b.connect(a.Y);b.connect(a.N)}function ib(a,...b){b.forEach(c=>{a.i.push(c instanceof gb?c:new gb(c))})}
function Z(a,b=a.j.currentTime){a.createOscillator();a.g.start(b);a.i.forEach((c,d)=>{c=b;let e=60/220*a.i[d].duration,f=e*(1-(a.o||1E-11));a.g?.frequency.setValueAtTime(a.i[d].frequency,c);if(a.l&&a.i[d].frequency){let g=a.i[d<a.i.length-1?d+1:0];a.g?.frequency.setValueAtTime(a.i[d].frequency,c+(f-Math.min(f,60/220*a.l)));a.g?.frequency.linearRampToValueAtTime(g.frequency,c+f)}a.g?.frequency.setValueAtTime(0,c+f);b=c+e});a.g.stop(b);a.g.onended=()=>Z(a,b)}
class jb{constructor(a,b){this.i=[];this.o=this.l=0;this.T="square";this.g=null;this.da=[];this.j=a;this.C=this.j.createGain();this.N=this.j.createGain();this.Y=this.j.createGain();hb(this);b&&ib(this,...b)}createOscillator(){this.stop();this.g=this.j.createOscillator();this.g.type=this.T;this.g.connect(this.C)}connect(a){this.N.connect(a);this.Y.connect(a)}stop(){this.g&&(this.g.onended=null,this.g.stop(),this.g.frequency.cancelScheduledValues(0),this.g=null)}}
class kb{constructor(){this.volume=.15;this.o=!1;this.g=new AudioContext;this.C=this.g.createGain();this.j=this.g.createDynamicsCompressor();this.C.connect(this.g.destination);this.C.gain.value=this.volume;this.j.ratio.value=4;this.j.threshold.value=-12;this.j.connect(this.C);this.l=new jb(this.g,"F#4 q;C#5 q;F#4 q;E5 q;- q;E5 q;C#5 q;F#5 q;F#4 q;C#5 q;F#4 q;E5 q;- q;G#4 q;A4 q;B4 q;F#4 q;C#5 q;F#4 q;E5 q;- q;E5 q;C#5 q;F#5 q;F#4 q;C#5 q;F#4 q;E5 q;- q;G#4 q;A4 q;F#4 q;A4 q;E5 q;A4 q;G5 q;- q;E5 q;G5 q;A5 q;A4 q;E5 q;A4 q;G5 q;- q;C5 q;E5 q;C5 q;A4 q;E5 q;A4 q;G5 q;- q;E5 q;G5 q;A5 q;A4 q;E5 q;A4 q;G5 q;A5 q;G5 q;F5 q;D5 q".split(";"));
this.l.o=.3;this.l.l=.02;this.i=new jb(this.g,"F#2 h;F#2 h;F#2 h;F#2 h;B1 h;B1 h;C#2 h;C#2 h;F#2 h;F#2 h;F#2 h;F#2 h;B1 h;B1 h;C#2 h;C#2 h;A2 h;A2 h;A2 h;A2 h;E2 h;E2 h;F#2 h;F#2 h;A2 h;A2 h;A2 h;A2 h;E2 h;E2 h;F#2 h;F#2 h".split(";"));this.i.o=.1;this.i.l=.2;this.i.T="sawtooth";this.l.connect(this.j);this.i.connect(this.j)}stop(){this.l.stop();this.i.stop();this.o=!1}}function lb(a){O(a.g.h)&&(A.active||A.start(1,0,.5,()=>{J(new $a(a.g.S.U));A.start(0,1,.5)}))}
class mb{constructor(){this.j=m.g}async ga(){720>=window.innerWidth&&(document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen());var a=this.i=new kb;if(!a.o){var b=a.g.currentTime;Z(a.l,b);Z(a.i,b);a.o=!0}this.g=await Ya();A.start(0,1,1)}na(a){this.g&&(this.g.update(a,m.o),this.g.s(this.j),lb(this))}ta(){this.i.stop()}}let nb=new mb;
class qa{constructor(){this.ua=null}ha(){A.start(1,0,.5,()=>{J(nb)})}async ga(){c2d.addEventListener("click",this.ha)}na(a){v("Benji",28,z()+15,110);w("Super",18,z()-30,94,"#fff","center","#ee2626",3,Math.PI/-20);let {g:b}=m;b.save();b.font='900 10px "Tahoma"';b.textAlign="center";b.fillStyle="#f01b1bce";b.fillText("js13k 2025",35,m.j-10);b.restore();w("by hseager",9,m.i-35,m.j-11,"#f0f0f0c7");x("Start Game",a,180)}ta(){c2d.removeEventListener("click",this.ha)}}K=new pa(...[]);
let ob=performance.now(),pb=new I;(()=>{function a(b){let c=(b-ob)/1E3;ob=b;m.g.clearRect(0,0,m.i,m.j);pb.update(c);pb.s(m.g);K.g.na(c);A.update(c);A.s(m.g);requestAnimationFrame(a)}aa();requestAnimationFrame(a)})();
